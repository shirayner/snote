(window.webpackJsonp=window.webpackJsonp||[]).push([[334],{1428:function(a,s,e){"use strict";e.r(s);var t=e(4),n=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("[TOC]")]),a._v(" "),e("h1",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[a._v("#")]),a._v(" 前言")]),a._v(" "),e("p",[a._v("各种主流Linux发行版都采用了某种形式的包管理系统来控制软件和库的安装。")]),a._v(" "),e("h1",{attrs:{id:"一、基于red-hat-的系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、基于red-hat-的系统"}},[a._v("#")]),a._v(" 一、基于Red Hat 的系统")]),a._v(" "),e("p",[a._v("基于RedHat的系统也有几种不同的可用前端工具。常见的有以下3种：")]),a._v(" "),e("ul",[e("li",[a._v("yum：在RedHat和Fedora中使用")]),a._v(" "),e("li",[a._v("urpm：在Mandriva中使用")]),a._v(" "),e("li",[a._v("zypper：在openSUSE中使用。")])]),a._v(" "),e("p",[a._v("这些前端都是基于rpm命令行工具的。")]),a._v(" "),e("h2",{attrs:{id:"_1-列出已安装包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-列出已安装包"}},[a._v("#")]),a._v(" 1.列出已安装包")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum  list  installed\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("输出的信息可能会在屏幕上一闪而过，所以最好是将已安装包的列表重定向到一个文件中。可以用more或less命令（或一个GUI编辑器）按照需要查看这个列表。")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum list installed "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" installed_software\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"_2-用yum安装软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-用yum安装软件"}},[a._v("#")]),a._v(" 2.用yum安装软件")]),a._v(" "),e("p",[a._v("（1）执行如下命令，将会从仓库中安装指定的软件包、所有它需要的库以及依赖的其他包：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" package_name\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("（2）也可以手动下载rpm安装文件并用yum安装，这叫作本地安装。基本的命令是：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum localinstall package_name.rpm\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"_3-用yum更新软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-用yum更新软件"}},[a._v("#")]),a._v(" 3.用yum更新软件")]),a._v(" "),e("p",[a._v("列出所有已安装包的可用更新：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum list updates\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("更新指定软件包：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum update package_name\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("更新所有软件包：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum update\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"_4-用yum卸载软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-用yum卸载软件"}},[a._v("#")]),a._v(" 4.用yum卸载软件")]),a._v(" "),e("p",[a._v("只删除软件包而保留配置文件和数据文件：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum remove package_name\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("删除软件和它所有的文件:")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum erase package_name\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"_5-处理损坏的包依赖关系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-处理损坏的包依赖关系"}},[a._v("#")]),a._v(" 5.处理损坏的包依赖关系")]),a._v(" "),e("p",[a._v("有时在安装多个软件包时，某个包的软件依赖关系可能会被另一个包的安装覆盖掉。这叫作"),e("strong",[a._v("损坏的包依赖关系")]),a._v("（broken dependency）。")]),a._v(" "),e("p",[a._v("解决方法如下：")]),a._v(" "),e("p",[a._v("（1）清理")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum clean all\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("（2）使用 yum 的update命令")]),a._v(" "),e("p",[a._v("（3）有时，只要清理了放错位置的文件就可以了。如果这还解决不了问题，试试下面的命令：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("yum deplist package_name\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("这个命令显示了所有包的库依赖关系以及什么软件可以提供这些库依赖关系。一旦知道某个包需要的库，你就能安装它们了。")]),a._v(" "),e("h2",{attrs:{id:"_6-yum软件仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-yum软件仓库"}},[a._v("#")]),a._v(" 6.yum软件仓库")]),a._v(" "),e("p",[a._v("要想知道你现在正从哪些仓库中获取软件，输入如下命令：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum repolist\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("如果仓库中没有需要的软件，你可以编辑一下配置文件。yum的仓库定义文件位于/etc/yum.repos.d。你需要添加正确的URL，并获得必要的加密密钥。")]),a._v(" "),e("p",[a._v("像 "),e("code",[a._v("rpmfusion.org")]),a._v(" 这种优秀的仓库站点会列出必要的使用步骤。")]),a._v(" "),e("p",[a._v("有时这些仓库网站会提供一个可下载的rpm文件，可以用"),e("code",[a._v("yum localinstall")]),a._v("命令进行安装。这个rpm文件在安装过程会为你完成所有的仓库设置工作。")]),a._v(" "),e("h1",{attrs:{id:"二、从源码安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、从源码安装"}},[a._v("#")]),a._v(" 二、从源码安装")]),a._v(" "),e("p",[a._v("安装的具体过程：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" zxvf XXXX.tar.gz "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("or "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" jxvf XXXX.tar.bz2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 解包")]),a._v("\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" XXXX\n$ ./configure     "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 1.配置，建立makefile文件")]),a._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v("            "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 2.编译")]),a._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 3.安装")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("h2",{attrs:{id:"_1-configure"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-configure"}},[a._v("#")]),a._v(" 1."),e("code",[a._v("./configure")])]),a._v(" "),e("blockquote",[e("p",[a._v("开始configure前，应该仔细阅读源码目录下的"),e("strong",[a._v("README")]),a._v("或者"),e("strong",[a._v("INSTALL")]),a._v("文件，此文件中列出了软件安装所需的操作。configure实际上是一个脚本文件，在当前目录中键入”./configure”,shell就会运行当前目录下的configure脚本。")])]),a._v(" "),e("p",[a._v("生成makefile文件：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("./configure\n\n./configure  --prefix"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local   "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定程序的安装位置")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("h2",{attrs:{id:"_2-make"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-make"}},[a._v("#")]),a._v(" 2.make")]),a._v(" "),e("blockquote",[e("p",[a._v("如果configure过程正确完成，那么在源码目录，会生成相应的Makefile文件，Makefile文件简单来说包括的是一组文件依赖关系以及编译链接的相关步骤，事实上真正的编译链接工作也不是make所做的，make只是一个通用的工具，一般情况下，make会根据Makefile中的规则调用合适的编译器编译所有与当前软件相依赖的源码，生成所有相关的目标文件，最后再使用链接器生成最终的可执行程序。")])]),a._v(" "),e("p",[a._v("编译源码：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("检查是否编译成功，为0代表运行成功：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("?\n"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("h2",{attrs:{id:"_3-make-install"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-make-install"}},[a._v("#")]),a._v(" 3."),e("code",[a._v("make install")])]),a._v(" "),e("blockquote",[e("p",[a._v("当上面两个步骤正确完成，代表着编译链接过程已经完全结束，最后要做的就是将可执行程序安装到正确的位置，在这个步骤，普通用户可能没有相关目录的操作权限，临时切换到root是一个不错的选择，”install”只是Makefile文件中的一个标号,”make install”代表着make工具执行Makefile文件中”install”标号下的所有相关操作，如果在configure阶段没有使用”–prefix=/opt/XXX”指定应用程序的安装目录，那么应用程序一般会被默认安装到/usr/local/bin，如果/usr/local/bin已经存在于您的PATH中，那么安装已经基本结束")])]),a._v(" "),e("p",[a._v("开始安装：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"_4-make-clean-make-uninstall"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-make-clean-make-uninstall"}},[a._v("#")]),a._v(" 4."),e("code",[a._v("make clean & make uninstall")])]),a._v(" "),e("blockquote",[e("p",[a._v("这两个步骤只是安装的后续操作，有一点必须注意，”clean”和”uninstall”也是Makefile文件中相应的两个标号，执行这两个步骤的时候Makefile文件必要保留，”make clean”用来清除编译连接过程中的一些临时文件，”make uninstall”是卸载相关应用程序，与make install类似，make uninstall也需要切换到root执行，不过”uninstall”标号在好多Makefile中都被省略掉了，朋友们完全可以自己在相应的Makefile文件一探究竟。")])]),a._v(" "),e("h1",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[a._v("#")]),a._v(" 参考资料")]),a._v(" "),e("ol",[e("li",[e("a",{attrs:{href:"https://blog.csdn.net/liupeifeng3514/article/details/79054510",target:"_blank",rel:"noopener noreferrer"}},[a._v("Linux 源码安装软件"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"http://blog.51cto.com/skypegnu1/1626265",target:"_blank",rel:"noopener noreferrer"}},[a._v("Linux基础：从源码安装软件"),e("OutboundLink")],1)]),a._v(" "),e("li")])])}),[],!1,null,null,null);s.default=n.exports}}]);