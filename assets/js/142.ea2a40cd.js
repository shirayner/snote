(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{1358:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("[TOC]")]),s._v(" "),n("h1",{attrs:{id:"前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),n("p",[s._v("Zuul 是从设备和网站到后端应用程序所有请求的前门，为内部服务提供可配置的对外URL到服务的映射关系。")]),s._v(" "),n("p",[s._v("简单来说，zuul就是一个微服务网关，是其他各个微服务的入口，其具备以下功能：")]),s._v(" "),n("blockquote",[n("ul",[n("li",[s._v("认证与鉴权")]),s._v(" "),n("li",[s._v("压力控制")]),s._v(" "),n("li",[s._v("金丝雀测试")]),s._v(" "),n("li",[s._v("动态路由")]),s._v(" "),n("li",[s._v("负载削减")]),s._v(" "),n("li",[s._v("静态响应处理")]),s._v(" "),n("li",[s._v("主动流量管理")])])]),s._v(" "),n("p",[s._v("其底层基于Servlet，本质组件是一系列Filter所构成的责任链。")]),s._v(" "),n("h1",{attrs:{id:"一、创建服务消费者"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、创建服务消费者"}},[s._v("#")]),s._v(" 一、创建服务消费者")]),s._v(" "),n("h2",{attrs:{id:"_1-创建子模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建子模块"}},[s._v("#")]),s._v(" 1.创建子模块")]),s._v(" "),n("p",[s._v("这里我们创建一个子模块，创建步骤同 "),n("RouterLink",{attrs:{to:"/cs/backend/spring/spring-cloud/01_spring-cloud/SpringCloud_01_Discovery_01_Eureka入门示例.html"}},[s._v("SpringCloud_01_Discovery_01_Eureka入门示例")])],1),s._v(" "),n("p",[s._v("子模块信息如下：")]),s._v(" "),n("div",{staticClass:"language-groovy line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[s._v("group "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'com.ray.study'")]),s._v("\nartifact "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-05-gateway-zuul'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"_2-引入依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-引入依赖"}},[s._v("#")]),s._v(" 2.引入依赖")]),s._v(" "),n("h3",{attrs:{id:"_2-1-继承父工程依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-继承父工程依赖"}},[s._v("#")]),s._v(" 2.1 继承父工程依赖")]),s._v(" "),n("p",[s._v("在父工程"),n("code",[s._v("spring-cloud-seeds")]),s._v(" 的 "),n("code",[s._v("settings.gradle")]),s._v("加入子工程")]),s._v(" "),n("div",{staticClass:"language-groovy line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[s._v("rootProject"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-seeds'")]),s._v("\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-01-discovery-01-eureka-server'")]),s._v("\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-01-discovery-01-eureka-client'")]),s._v("\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-01-discovery-02-consul-client'")]),s._v("\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-02-consumer-ribbon'")]),s._v("\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-03-consumer-feign'")]),s._v("\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-04-consumer-hystrix-feign'")]),s._v("\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-05-gateway-zuul'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("这样，子工程"),n("code",[s._v("spring-cloud-05-gateway-zuul")]),s._v("就会自动继承父工程中"),n("code",[s._v("subprojects")]),s._v(" 函数里声明的项目信息")]),s._v(" "),n("h3",{attrs:{id:"_2-2-引入-zuul-依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-引入-zuul-依赖"}},[s._v("#")]),s._v(" 2.2 引入 zuul 依赖")]),s._v(" "),n("p",[s._v("将子模块"),n("code",[s._v("spring-cloud-05-gateway-zuul")]),s._v(" 的"),n("code",[s._v("build.gradle")]),s._v("修改为如下内容：")]),s._v(" "),n("div",{staticClass:"language-groovy line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[s._v("dependencies "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    implementation "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.springframework.boot:spring-boot-starter-web'")]),s._v("\n    testImplementation "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.springframework.boot:spring-boot-starter-test'")]),s._v("\n    compileOnly "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.projectlombok:lombok'")]),s._v("\n    annotationProcessor "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.projectlombok:lombok'")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// eureka client")]),s._v("\n    implementation "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.springframework.cloud:spring-cloud-starter-netflix-eureka-client'")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// zuul")]),s._v("\n    implementation "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.springframework.cloud:spring-cloud-starter-netflix-zuul'")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"_3-修改配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改配置"}},[s._v("#")]),s._v(" 3. 修改配置")]),s._v(" "),n("h3",{attrs:{id:"_3-1-修改application-yml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-修改application-yml"}},[s._v("#")]),s._v(" 3.1 修改"),n("code",[s._v("application.yml")])]),s._v(" "),n("p",[s._v("开启 hystrix")]),s._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8767")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gateway"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("zuul   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定服务名")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("instance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("prefer-ip-address")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("serviceUrl")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Eureka客户端与Eureka服务端进行交互的地址，多个中间用逗号分隔")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("defaultZone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("8761/eureka/    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定 Eureka Server 地址")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("zuul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("routes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("eureka-client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /client/"),n("span",{pre:!0,attrs:{class:"token important"}},[s._v("**")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("serviceId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" eureka"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("client\n\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("p",[s._v("上面配置的路由为：将所欲 "),n("code",[s._v("/client/")]),s._v("开头的URL映射到 "),n("code",[s._v("client-a")]),s._v("这个服务中去，这样就实现了网关的作用，所有的请求，先经过网关，再由网关路由到具体的服务上。")]),s._v(" "),n("h3",{attrs:{id:"_3-2-启用zuulproxy"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-启用zuulproxy"}},[s._v("#")]),s._v(" 3.2 启用ZuulProxy")]),s._v(" "),n("p",[s._v("在启动类上")]),s._v(" "),n("ul",[n("li",[s._v("添加"),n("code",[s._v("@EnableDiscoveryClient")]),s._v("注解可启用服务发现")]),s._v(" "),n("li",[s._v("添加"),n("code",[s._v("@EnableZuulProxy")]),s._v("注解可启用 zuul 网关")])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ray"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("study"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springcloud05gatewayzuul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("boot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("boot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("autoconfigure"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBootApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("discovery"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnableDiscoveryClient")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("netflix"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("zuul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnableZuulProxy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@SpringBootApplication")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EnableZuulProxy")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EnableDiscoveryClient")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringCloud05GatewayZuulApplication")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringCloud05GatewayZuulApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h2",{attrs:{id:"_4-测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-测试"}},[s._v("#")]),s._v(" 4.测试")]),s._v(" "),n("blockquote",[n("p",[s._v("下面，我们将使用  "),n("RouterLink",{attrs:{to:"/cs/backend/spring/spring-cloud/01_spring-cloud/SpringCloud_01_Discovery_01_Eureka入门示例.html"}},[s._v("SpringCloud_01_Discovery_01_Eureka入门示例.md")]),s._v("  这一节中创建的 Eureka 注册中心和Eureka Client 服务提供者来进行演示")],1)]),s._v(" "),n("p",[s._v("依次启动")]),s._v(" "),n("blockquote",[n("ul",[n("li",[s._v("eurka-server： 服务注册中心")]),s._v(" "),n("li",[s._v("eureka-client：服务提供者")]),s._v(" "),n("li",[s._v("gateway-zuul：本节创建的网关")])])]),s._v(" "),n("p",[s._v("下面通过网关 gateway-zuul 来访问eureka-client 服务提供者的的 HelloController")]),s._v(" "),n("blockquote",[n("p",[s._v("http://localhost:8767/client/hello")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(880),alt:"1559046776203"}})]),s._v(" "),n("p",[s._v("如上图，显示提供服务的是 8762 端口的 eureka-client")]),s._v(" "),n("h1",{attrs:{id:"参考资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),n("ol",[n("li",[n("a",{attrs:{href:"https://item.jd.com/12447280.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("《重新定义Spring Cloud实战》(F版)"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.battcn.com/2017/08/14/springcloud/dalston/spring-cloud-zuul/",target:"_blank",rel:"noopener noreferrer"}},[s._v("唐亚峰__一起来学SpringCloud之 - 路由网关（Zuul）"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports},880:function(s,t,a){s.exports=a.p+"assets/img/1559046776203.4d9d3693.png"}}]);