(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{1391:function(t,e,s){"use strict";s.r(e);var a=s(4),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("[TOC]")]),t._v(" "),a("h1",{attrs:{id:"一、简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、简介"}},[t._v("#")]),t._v(" 一、简介")]),t._v(" "),a("h2",{attrs:{id:"_1-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[t._v("#")]),t._v(" 1.简介")]),t._v(" "),a("p",[a("img",{attrs:{src:s(949),alt:"1567139936799"}})]),t._v(" "),a("h2",{attrs:{id:"_2-常用权限拦截器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-常用权限拦截器"}},[t._v("#")]),t._v(" 2.常用权限拦截器")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("FilterChainProxy\nDelegatingFilterProxy\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("blockquote",[a("ul",[a("li",[t._v("SecurityContextPersistenceFilter")]),t._v(" "),a("li")])]),t._v(" "),a("p",[a("img",{attrs:{src:s(950),alt:"1567140159113"}})]),t._v(" "),a("h3",{attrs:{id:"_2-1-securitycontextpersistencefilter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-securitycontextpersistencefilter"}},[t._v("#")]),t._v(" 2.1 SecurityContextPersistenceFilter")]),t._v(" "),a("p",[t._v("旧称为：HttpSessionContextIntegrationFilter，位于过滤器顶端，在执行其他过滤器之前，率先判断用户的session中是否已经存在一个SecurityContext了，")]),t._v(" "),a("h1",{attrs:{id:"二、核心类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、核心类"}},[t._v("#")]),t._v(" 二、核心类")]),t._v(" "),a("p",[t._v("AuthenticationManager")]),t._v(" "),a("p",[t._v("AccessDecisionManager")]),t._v(" "),a("p",[t._v("UserDetailsService")]),t._v(" "),a("p",[t._v("UserDetails")]),t._v(" "),a("p",[t._v("Authentication")]),t._v(" "),a("p",[t._v("RBAC")]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("AuthenticationManager")]),t._v(" "),a("li",[t._v("SecurityContextHolder：提供对SecurityContext的访问")]),t._v(" "),a("li",[t._v("SecurityContext,：持有Authentication对象和其他可能需要的信息,其中可以包含多个AuthenticationProvider")]),t._v(" "),a("li",[t._v("ProviderManager对象为AuthenticationManager接口的实现类"),a("br"),t._v("\nAuthenticationProvider 主要用来进行认证操作的类 调用其中的authenticate()方法去进行认证操作"),a("br"),t._v("\nAuthentication：Spring Security方式的认证主体"),a("br"),t._v("\nGrantedAuthority：对认证主题的应用层面的授权，含当前用户的权限信息，通常使用角色表示"),a("br"),t._v("\nUserDetails：构建Authentication对象必须的信息，可以自定义，可能需要访问DB得到"),a("br"),t._v("\nUserDetailsService：通过username构建UserDetails对象，通过loadUserByUsername根据userName获取UserDetail对象 （可以在这里基于自身业务进行自定义的实现  如通过数据库，xml,缓存获取等）")])])]),t._v(" "),a("h1",{attrs:{id:"三、spring-security权限缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、spring-security权限缓存"}},[t._v("#")]),t._v(" 三、Spring Security权限缓存")]),t._v(" "),a("p",[t._v("CachingUserDetailsService")]),t._v(" "),a("p",[t._v("EhCacheBasedUserCache")]),t._v(" "),a("h1",{attrs:{id:"四、自定义决策"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、自定义决策"}},[t._v("#")]),t._v(" 四、自定义决策")]),t._v(" "),a("p",[a("img",{attrs:{src:s(951),alt:"1567147511205"}})]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("AbstractAccessDecisionManager\nAccessDecisionVoter\n\nRoleVoter\nAffirmativeBased: 一票通过，只要有投票器通过，那就允许访问资源\nConsensusBased： 半数通过才允许访问资源\nUnanimousBased：全体一致才允许访问资源\nAuthenticatedVoter\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])])])}),[],!1,null,null,null);e.default=r.exports},949:function(t,e,s){t.exports=s.p+"assets/img/1567139936799.5764ced9.png"},950:function(t,e,s){t.exports=s.p+"assets/img/1567140159113.c9724c40.png"},951:function(t,e,s){t.exports=s.p+"assets/img/1567147511205.2d6242fd.png"}}]);