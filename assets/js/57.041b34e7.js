(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1407:function(s,t,a){"use strict";a.r(t);var e=a(4),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"zookeeper-环境搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper-环境搭建"}},[s._v("#")]),s._v(" Zookeeper 环境搭建")]),s._v(" "),e("p",[s._v("[toc]")]),s._v(" "),e("h2",{attrs:{id:"推荐阅读"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#推荐阅读"}},[s._v("#")]),s._v(" 推荐阅读")]),s._v(" "),e("blockquote",[e("ul",[e("li",[e("a",{attrs:{href:"https://www.cnblogs.com/EasonJim/p/7482961.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ZooKeeper环境搭建（单机/集群）（转）"),e("OutboundLink")],1)]),s._v(" "),e("li",[e("a",{attrs:{href:"https://www.cnblogs.com/ysocean/p/9860529.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("zookeeper 集群搭建"),e("OutboundLink")],1)]),s._v(" "),e("li"),s._v(" "),e("li")])]),s._v(" "),e("h2",{attrs:{id:"一、zookeeper-伪集群搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、zookeeper-伪集群搭建"}},[s._v("#")]),s._v(" 一、Zookeeper 伪集群搭建")]),s._v(" "),e("h3",{attrs:{id:"_1-下载并解压zookeeper"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载并解压zookeeper"}},[s._v("#")]),s._v(" 1.下载并解压Zookeeper")]),s._v(" "),e("p",[s._v("前往 Zookeeper 版本发布页下载")]),s._v(" "),e("blockquote",[e("p",[s._v("https://zookeeper.apache.org/releases.html")])]),s._v(" "),e("p",[s._v("解压之后目录如下：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$9")]),s._v("}'")]),s._v("\n\nbin/\nconf/\ndocs/\nlib/\nLICENSE.txt\nNOTICE.txt\nREADME.md\nREADME_packaging.md\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h3",{attrs:{id:"_2-创建data目录和log目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建data目录和log目录"}},[s._v("#")]),s._v(" 2.创建Data目录和Log目录")]),s._v(" "),e("p",[s._v("创建数据存储目录和日志存储目录")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" data_1 data_2 data_3 logs_1 logs_2 logs_3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("创建好之后，目录如下：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$9")]),s._v("}'")]),s._v("\n\nbin/\nconf/\ndata_1/              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据存储目录1")]),s._v("\ndata_2/              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据存储目录2")]),s._v("\ndata_3/              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据存储目录3")]),s._v("\nlogs_1/              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志存储目录1")]),s._v("\nlogs_2/              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志存储目录2")]),s._v("\nlogs_3/              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志存储目录3")]),s._v("\ndocs/\nlib/\nLICENSE.txt\nNOTICE.txt\nREADME.md\nREADME_packaging.md\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("h3",{attrs:{id:"_3-配置-zoo-cfg"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置-zoo-cfg"}},[s._v("#")]),s._v(" 3.配置 zoo.cfg")]),s._v(" "),e("p",[s._v("（1）进入 conf 目录，复制 "),e("code",[s._v("zoo_sample.cfg")]),s._v(" ，并分别重命名为"),e("code",[s._v("zoo1.cfg")]),s._v("、"),e("code",[s._v("zoo2.cfg")]),s._v("、"),e("code",[s._v("zoo3.cfg")]),s._v("。")]),s._v(" "),e("p",[s._v("（2）然后修改这三个配置文件，需要修改下面三个属性")]),s._v(" "),e("blockquote",[e("ul",[e("li",[e("code",[s._v("clientPort")])]),s._v(" "),e("li",[e("code",[s._v("dataDir")]),s._v(" ：属性值为数据存储目录")]),s._v(" "),e("li",[e("code",[s._v("server.{num}=ip/domain:port1:port2")])])])]),s._v(" "),e("p",[s._v("（3）修改后，各个配置文件内容如下：")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("zoo1.cfg")]),s._v(" "),e("div",{staticClass:"language-properties line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of milliseconds of each tick")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("tickTime")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("2000")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of ticks that the initial ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# synchronization phase can take")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("initLimit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("10")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of ticks that can pass between ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sending a request and getting an acknowledgement")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("syncLimit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("5")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the directory where the snapshot is stored.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# do not use /tmp for storage, /tmp here is just ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# example sakes.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意Windows上路径要用 \\\\")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("dataDir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("D:\\\\dev-env\\\\zookeeper\\\\apache-zookeeper-3.6.2-bin\\\\data_1")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#the location of the log file")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("dataLogDir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("D:\\\\dev-env\\\\zookeeper\\\\apache-zookeeper-3.6.2-bin\\\\logs_1")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the port at which the clients will connect")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("clientPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("2181")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the maximum number of client connections.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# increase this if you need to handle more clients")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#maxClientCnxns=60")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Be sure to read the maintenance section of the ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# administrator guide before turning on autopurge.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of snapshots to retain in dataDir")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#autopurge.snapRetainCount=3")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Purge task interval in hours")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# Set to "0" to disable auto purge feature')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#autopurge.purgeInterval=1")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Metrics Providers")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://prometheus.io Metrics Exporter")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#metricsProvider.className=org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#metricsProvider.httpPort=7000")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#metricsProvider.exportJvmInfo=true")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server.1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:2287:3387")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server.2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:2288:3388")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server.3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:2289:3389")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("zoo2.cfg")]),s._v(" "),e("div",{staticClass:"language-properties line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of milliseconds of each tick")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("tickTime")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("2000")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of ticks that the initial ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# synchronization phase can take")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("initLimit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("10")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of ticks that can pass between ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sending a request and getting an acknowledgement")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("syncLimit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("5")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the directory where the snapshot is stored.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# do not use /tmp for storage, /tmp here is just ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# example sakes.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意Windows上路径要用 \\\\")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("dataDir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("D:\\\\dev-env\\\\zookeeper\\\\apache-zookeeper-3.6.2-bin\\\\data_2")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#the location of the log file")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("dataLogDir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("D:\\\\dev-env\\\\zookeeper\\\\apache-zookeeper-3.6.2-bin\\\\logs_2")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the port at which the clients will connect")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("clientPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("2182")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the maximum number of client connections.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# increase this if you need to handle more clients")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#maxClientCnxns=60")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Be sure to read the maintenance section of the ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# administrator guide before turning on autopurge.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of snapshots to retain in dataDir")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#autopurge.snapRetainCount=3")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Purge task interval in hours")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# Set to "0" to disable auto purge feature')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#autopurge.purgeInterval=1")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Metrics Providers")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://prometheus.io Metrics Exporter")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#metricsProvider.className=org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#metricsProvider.httpPort=7000")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#metricsProvider.exportJvmInfo=true")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:2287:3387")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server.1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:2288:3388")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server.2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:2289:3389")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("zoo3.cfg")]),s._v(" "),e("div",{staticClass:"language-properties line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of milliseconds of each tick")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("tickTime")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("2000")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of ticks that the initial ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# synchronization phase can take")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("initLimit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("10")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of ticks that can pass between ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sending a request and getting an acknowledgement")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("syncLimit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("5")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the directory where the snapshot is stored.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# do not use /tmp for storage, /tmp here is just ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# example sakes.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意Windows上路径要用 \\\\")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("dataDir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("D:\\\\dev-env\\\\zookeeper\\\\apache-zookeeper-3.6.2-bin\\\\data_1")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#the location of the log file")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("dataLogDir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("D:\\\\dev-env\\\\zookeeper\\\\apache-zookeeper-3.6.2-bin\\\\logs_1")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the port at which the clients will connect")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("clientPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("2183")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the maximum number of client connections.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# increase this if you need to handle more clients")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#maxClientCnxns=60")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Be sure to read the maintenance section of the ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# administrator guide before turning on autopurge.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The number of snapshots to retain in dataDir")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#autopurge.snapRetainCount=3")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Purge task interval in hours")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# Set to "0" to disable auto purge feature')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#autopurge.purgeInterval=1")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## Metrics Providers")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://prometheus.io Metrics Exporter")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#metricsProvider.className=org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#metricsProvider.httpPort=7000")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#metricsProvider.exportJvmInfo=true")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:2287:3387")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server.1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:2288:3388")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server.2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:2289:3389")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br")])])])]),s._v(" "),e("p",[s._v("各参数含义如下：")]),s._v(" "),e("blockquote",[e("ul",[e("li",[e("code",[s._v("tickTime")]),s._v("：基本事件单元，这个时间是作为Zookeeper服务器之间或客户端与服务器之间维持心跳的时间间隔，每隔tickTime时间就会发送一个心跳；最小 的session过期时间为2倍tickTime")]),s._v(" "),e("li",[e("code",[s._v("initLimit")]),s._v("：允许follower连接并同步到Leader的初始化连接时间，以tickTime为单位。当初始化连接时间超过该值，则表示连接失败。")]),s._v(" "),e("li",[e("code",[s._v("syncLimit")]),s._v("：表示Leader与Follower之间发送消息时，请求和应答时间长度。如果follower在设置时间内不能与leader通信，那么此follower将会被丢弃。")]),s._v(" "),e("li",[e("code",[s._v("dataDir")]),s._v("：存储内存中数据库快照的位置，除非另有说明，否则指向数据库更新的事务日志。注意：应该谨慎的选择日志存放的位置，使用专用的日志存储设备能够大大提高系统的性能，如果将日志存储在比较繁忙的存储设备上，那么将会很大程度上影像系统性能。")]),s._v(" "),e("li",[e("code",[s._v("clientPort")]),s._v("：监听客户端连接的端口")]),s._v(" "),e("li",[e("code",[s._v("server.{num}=ip/domain:port1:port2")]),s._v("：\n"),e("ul",[e("li",[s._v("num：服务器的编号，对应 myid 文件")]),s._v(" "),e("li",[s._v("ip/domain：服务器ip或域名，即集群中各个节点的地址")]),s._v(" "),e("li",[s._v("port1：Leader选举的端口")]),s._v(" "),e("li",[s._v("port2：Zookeeper服务器之间的通信端口")])])])])]),s._v(" "),e("h3",{attrs:{id:"_4-创建myid-文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-创建myid-文件"}},[s._v("#")]),s._v(" 4.创建myid 文件")]),s._v(" "),e("p",[s._v("分别在 dataDir 指定的目录下，创建 myid 文件，文件内容为服务器编号")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" data_1/myid\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" data_2/myid\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" data_3/myid\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"_5-启动服务端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-启动服务端"}},[s._v("#")]),s._v(" 5.启动服务端")]),s._v(" "),e("p",[s._v("进入 bin  目录，然后执行如下命令分别启动三个ZooKeeper实例：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ ./zkServer.sh start "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/conf/zoo1.cfg\n$ ./zkServer.sh start "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/conf/zoo2.cfg\n$ ./zkServer.sh start "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/conf/zoo3.cfg\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("关闭实例的命令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ ./zkServer.sh stop "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/conf/zoo1.cfg\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_6-校验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-校验"}},[s._v("#")]),s._v(" 6.校验")]),s._v(" "),e("p",[s._v("通过jps命令可查看 zookeeper对应的进程，进程名为 QuorumPeerMain")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ jps\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("21632")]),s._v(" QuorumPeerMain\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("17444")]),s._v(" QuorumPeerMain\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("28280")]),s._v(" QuorumPeerMain\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("通过"),e("code",[s._v("zkServer.sh status")]),s._v("命令可查看对应节点的状态")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ ./zkServer.sh status "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/conf/zoo1.cfg\nZooKeeper JMX enabled by default\nUsing config: D:"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dev-env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("zookeeper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("apache-zookeeper-3.6.2-bin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("conf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("zoo1.cfg\nClient port found: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),s._v(". Client address: localhost. Client SSL: false.\nMode: follower\n\n\n\n$ ./zkServer.sh status "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/conf/zoo2.cfg\nZooKeeper JMX enabled by default\nUsing config: D:"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dev-env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("zookeeper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("apache-zookeeper-3.6.2-bin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("conf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("zoo2.cfg\nClient port found: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2182")]),s._v(". Client address: localhost. Client SSL: false.\nMode: leader\n\n\n\n$ ./zkServer.sh status "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/conf/zoo3.cfg\nZooKeeper JMX enabled by default\nUsing config: D:"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("dev-env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("zookeeper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("apache-zookeeper-3.6.2-bin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("conf"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("zoo3.cfg\nClient port found: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2183")]),s._v(". Client address: localhost. Client SSL: false.\nMode: follower\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br")])]),e("p",[s._v("可以看到有一台 leader，两台 follower")]),s._v(" "),e("h2",{attrs:{id:"二、zookeeper-图形化客户端工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、zookeeper-图形化客户端工具"}},[s._v("#")]),s._v(" 二、Zookeeper 图形化客户端工具")]),s._v(" "),e("blockquote",[e("ul",[e("li",[s._v("PrettyZoo：https://github.com/vran-dev/PrettyZoo")]),s._v(" "),e("li",[s._v("zkui：https://github.com/DeemOpen/zkui")])])]),s._v(" "),e("p",[s._v("推荐PrettyZoo，转自："),e("a",{attrs:{href:"http://www.iocoder.cn/Zookeeper/PrettyZoo/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ZooKeeper GUI 客户端_芋道源码"),e("OutboundLink")],1)]),s._v(" "),e("h3",{attrs:{id:"_1-prettyzoo-快速体验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-prettyzoo-快速体验"}},[s._v("#")]),s._v(" 1.PrettyZoo 快速体验")]),s._v(" "),e("h4",{attrs:{id:"_1-1-下载安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-下载安装"}},[s._v("#")]),s._v(" 1.1 下载安装")]),s._v(" "),e("p",[s._v("可访问 https://github.com/vran-dev/PrettyZoo/releases 地址下载，然后安装即可")]),s._v(" "),e("h4",{attrs:{id:"_1-2-连接-zookeeper-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-连接-zookeeper-server"}},[s._v("#")]),s._v(" 1.2 连接 ZooKeeper Server")]),s._v(" "),e("p",[e("img",{attrs:{src:a(956),alt:"连接 ZooKeeper Server"}})]),s._v(" "),e("h4",{attrs:{id:"_1-3-搜索-zookeeper-节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-搜索-zookeeper-节点"}},[s._v("#")]),s._v(" 1.3 搜索 ZooKeeper 节点")]),s._v(" "),e("p",[e("img",{attrs:{src:a(957),alt:"搜索 ZooKeeper 节点"}})]),s._v(" "),e("h4",{attrs:{id:"_1-4-添加-zookeeper-节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-添加-zookeeper-节点"}},[s._v("#")]),s._v(" 1.4 添加 ZooKeeper 节点")]),s._v(" "),e("p",[e("img",{attrs:{src:a(958),alt:"添加 ZooKeeper 节点"}})]),s._v(" "),e("h4",{attrs:{id:"_1-5-删除-zookeeper-节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-删除-zookeeper-节点"}},[s._v("#")]),s._v(" 1.5 删除 ZooKeeper 节点")]),s._v(" "),e("p",[e("img",{attrs:{src:a(959),alt:"删除 ZooKeeper 节点"}})])])}),[],!1,null,null,null);t.default=n.exports},956:function(s,t,a){s.exports=a.p+"assets/img/31.889a5872.gif"},957:function(s,t,a){s.exports=a.p+"assets/img/32.64938f14.gif"},958:function(s,t,a){s.exports=a.p+"assets/img/33.6e665170.gif"},959:function(s,t,a){s.exports=a.p+"assets/img/34.a688b5cb.gif"}}]);