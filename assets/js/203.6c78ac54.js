(window.webpackJsonp=window.webpackJsonp||[]).push([[203],{1237:function(t,e,_){"use strict";_.r(e);var v=_(4),r=Object(v.a)({},(function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("p",[t._v("[toc]")]),t._v(" "),_("h1",{attrs:{id:"前言"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),_("h2",{attrs:{id:"推荐阅读"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#推荐阅读"}},[t._v("#")]),t._v(" 推荐阅读")]),t._v(" "),_("blockquote",[_("ul",[_("li",[_("a",{attrs:{href:"https://blog.gitee.com/2019/04/25/gitee-branch/",target:"_blank",rel:"noopener noreferrer"}},[t._v("一个 Git 分支协作模式的进化故事"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"https://gitee.com/oschina/gitee_best_practices/blob/master/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/%E7%A0%81%E4%BA%91Git%20flow%E7%9A%84%E6%9C%80%E4%BD%B3%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E5%AE%9E%E8%B7%B5.md",target:"_blank",rel:"noopener noreferrer"}},[t._v(" 码云Git flow的最佳团队协作实践"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"https://www.zhihu.com/question/21209619/answer/257574960",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何写好 Git commit log?"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/34223150",target:"_blank",rel:"noopener noreferrer"}},[t._v("优雅的提交你的 Git Commit Message"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"https://segmentfault.com/a/1190000009048911",target:"_blank",rel:"noopener noreferrer"}},[t._v("git commit 规范指南"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"https://blog.csdn.net/y491887095/article/details/80594043",target:"_blank",rel:"noopener noreferrer"}},[t._v("你可能会忽略的 Git 提交规范"),_("OutboundLink")],1)]),t._v(" "),_("li")])]),t._v(" "),_("h1",{attrs:{id:"一、分支管理规范"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#一、分支管理规范"}},[t._v("#")]),t._v(" 一、分支管理规范")]),t._v(" "),_("p",[t._v("目前比较流行的分支管理模型有三个，即"),_("code",[t._v("GitFlow")]),t._v("、"),_("code",[t._v("GitLabFlow")]),t._v("、"),_("code",[t._v("GitHubFlow")]),t._v("。下面将介绍这三种分支模型的原理，使用场景和优缺点等。")]),t._v(" "),_("h3",{attrs:{id:"gitflow"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#gitflow"}},[t._v("#")]),t._v(" GitFlow")]),t._v(" "),_("p",[_("code",[t._v("GitFlow")]),t._v(" 是最早诞生并得到广泛应用的一种工作流程。")]),t._v(" "),_("p",[t._v("该模型中存在两种长期分支："),_("code",[t._v("master")]),t._v(" 和 "),_("code",[t._v("develop")]),t._v("。 "),_("code",[t._v("master")]),t._v("中存放对外发布的版本，只有稳定的发布版本才会合并到"),_("code",[t._v("master")]),t._v("中。 "),_("code",[t._v("develop")]),t._v("用于日常开发，存放最新的开发版本。")]),t._v(" "),_("p",[t._v("也存在三种临时分支："),_("code",[t._v("feature")]),t._v(", "),_("code",[t._v("hotfix")]),t._v(", "),_("code",[t._v("release")]),t._v("。")]),t._v(" "),_("ul",[_("li",[_("code",[t._v("feature")]),t._v("分支是为了开发某个特定功能，从"),_("code",[t._v("develop")]),t._v("分支中切出，开发完成后合并到"),_("code",[t._v("develop")]),t._v("分支中。")]),t._v(" "),_("li",[_("code",[t._v("hotfix")]),t._v("分支是修复发布后发现的Bug的分支，从"),_("code",[t._v("master")]),t._v("分支中切出，修补完成后再合并到"),_("code",[t._v("master")]),t._v("和"),_("code",[t._v("develop")]),t._v("分支。")]),t._v(" "),_("li",[_("code",[t._v("release")]),t._v("分支指发布稳定版本前使用的预发布分支，从"),_("code",[t._v("develop")]),t._v("分支中切出，预发布完成后，合并到"),_("code",[t._v("develop")]),t._v("和"),_("code",[t._v("master")]),t._v("分支中。")])]),t._v(" "),_("p",[t._v("优点：")]),t._v(" "),_("ul",[_("li",[_("code",[t._v("feature")]),t._v(" 分支使开发代码隔离，可以独立的完成开发、构建、测试")]),t._v(" "),_("li",[_("code",[t._v("feature")]),t._v(" 分支开发周期长于"),_("code",[t._v("release")]),t._v("时，可避免未完成的"),_("code",[t._v("feature")]),t._v("进入生产环境")])]),t._v(" "),_("p",[t._v("缺点：")]),t._v(" "),_("ul",[_("li",[t._v("无法支持持续发布。")]),t._v(" "),_("li",[t._v("过于复杂的分支管理，加重了开发者的负担，使开发者不能专注开发。")])]),t._v(" "),_("h3",{attrs:{id:"githubflow"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#githubflow"}},[t._v("#")]),t._v(" GitHubFlow")]),t._v(" "),_("p",[_("code",[t._v("GitHubFlow")]),t._v("分支模型只存在一个"),_("code",[t._v("master")]),t._v("主分支，日常开发都合并至"),_("code",[t._v("master")]),t._v("，永远保持其为最新的代码且随时可发布的。")]),t._v(" "),_("ul",[_("li",[t._v("在需要添加或修改代码时， 基于"),_("code",[t._v("master")]),t._v("创建分支，提交修改。")]),t._v(" "),_("li",[t._v("创建"),_("code",[t._v("Pull Request")]),t._v("，所有人讨论和审查你的代码。")]),t._v(" "),_("li",[t._v("然后部署到生产环境中进行验证。")]),t._v(" "),_("li",[t._v("待验证通过后合并到"),_("code",[t._v("master")]),t._v("分支中。")])]),t._v(" "),_("p",[t._v("这个分支模型的优势在于简洁易理解，将"),_("code",[t._v("master")]),t._v("作为核心的分支，代码更新持续集成至"),_("code",[t._v("master")]),t._v("上。根据目前收集到的反应来看，得到了更多的好评，认为"),_("code",[t._v("GitHubFlow")]),t._v("分支模型更加轻便快捷。")]),t._v(" "),_("h3",{attrs:{id:"gitlabflow"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#gitlabflow"}},[t._v("#")]),t._v(" GitLabFlow")]),t._v(" "),_("p",[_("code",[t._v("GitLabFlow")]),t._v(" 是"),_("code",[t._v("GitFlow")]),t._v("和"),_("code",[t._v("GitHubFlow")]),t._v("的结合,它吸取了两者的优点，既有适应不同开发环境的弹性，又有单一主分支的简单和便利。")]),t._v(" "),_("p",[t._v("该模型采取上游优先的原则，即只存在一个"),_("code",[t._v("master")]),t._v("主分支，它是所以分支的上游。只有上游分支采纳的变动才能应用到其他分支。")]),t._v(" "),_("ul",[_("li",[t._v("对于持续发布的项目，建议在"),_("code",[t._v("master")]),t._v("之外再建立对应的环境分支，如预生产环境"),_("code",[t._v("pre-production")]),t._v("，生产环境"),_("code",[t._v("production")]),t._v("。")]),t._v(" "),_("li",[t._v("对于版本发布的项目，建议基于"),_("code",[t._v("master")]),t._v("创建稳定版本对应的分支，如"),_("code",[t._v("stable-1")]),t._v("，"),_("code",[t._v("stable-2")]),t._v("。")])]),t._v(" "),_("h3",{attrs:{id:"choerodon"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#choerodon"}},[t._v("#")]),t._v(" Choerodon")]),t._v(" "),_("p",[t._v("Choerodon中采取了GitHubFlow的模式，并提供多种分支类型。")]),t._v(" "),_("ul",[_("li",[t._v("在领到日常开发任务时，基于"),_("code",[t._v("master")]),t._v("创建"),_("code",[t._v("feature")]),t._v("特性开发分支，提交代码后，合并至"),_("code",[t._v("master")]),t._v("并删除"),_("code",[t._v("feature")]),t._v("。")]),t._v(" "),_("li",[t._v("在领到修复故障的任务时，基于"),_("code",[t._v("master")]),t._v("创建"),_("code",[t._v("bugfix")]),t._v("故障修补分支，提交代码后，合并至"),_("code",[t._v("master")]),t._v("并删除"),_("code",[t._v("bugfix")]),t._v("。")]),t._v(" "),_("li",[t._v("需要发布时，同样需要基于"),_("code",[t._v("master")]),t._v("创建"),_("code",[t._v("release")]),t._v("，生成的应用版本部署在UAT测试环境进行测试，若需要修改则提交至"),_("code",[t._v("release")]),t._v("。")]),t._v(" "),_("li",[t._v("产品上线后发现故障需要紧急进行热修复时，则基于"),_("code",[t._v("tag")]),t._v("创建"),_("code",[t._v("hotfix")]),t._v("，将修复的代码提交至"),_("code",[t._v("hotfix")]),t._v("；部署该分支上的版本通过验收后，基于"),_("code",[t._v("hotfix")]),t._v("打出热修版本的"),_("code",[t._v("tag")]),t._v("，如"),_("code",[t._v("0.8.1")]),t._v("。")]),t._v(" "),_("li",[t._v("由于新版本的迭代也同时进行，所以需要在"),_("code",[t._v("hotfix")]),t._v("上"),_("code",[t._v("rebase master")]),t._v("，变基至"),_("code",[t._v("master")]),t._v("分支最新的提交，再合并至"),_("code",[t._v("master")]),t._v("并删除"),_("code",[t._v("hotfix")]),t._v("，就可以将本次修改的提交应用至"),_("code",[t._v("master")]),t._v("上。")])]),t._v(" "),_("h3",{attrs:{id:"分支命名规约"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#分支命名规约"}},[t._v("#")]),t._v(" 分支命名规约")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",{staticStyle:{"text-align":"left"}},[t._v("前缀")]),t._v(" "),_("th",{staticStyle:{"text-align":"left"}},[t._v("含义")])])]),t._v(" "),_("tbody",[_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("master")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("主分支，可用的、稳定的、可直接发布的版本")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("develop")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("开发主分支，最新的代码分支")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("feature-**")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("功能开发分支")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("bugfix-**")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("未发布bug修复分支")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("release-**")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("预发布分支")])]),t._v(" "),_("tr",[_("td",{staticStyle:{"text-align":"left"}},[t._v("hotfix-**")]),t._v(" "),_("td",{staticStyle:{"text-align":"left"}},[t._v("已发布bug修复分支")])])])]),t._v(" "),_("h1",{attrs:{id:"二、提交命名规约"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#二、提交命名规约"}},[t._v("#")]),t._v(" 二、提交命名规约")]),t._v(" "),_("p",[t._v("除了分支的名称需要规范，提交的命名也同样如此。猪齿鱼并没有把这个规则固化到系统中，需要团队共同遵守。")]),t._v(" "),_("p",[t._v("格式为：[操作类型]操作对象名称，如[ADD]readme，代表增加了readme描述文件。")]),t._v(" "),_("p",[t._v("常见的操作类型有：")]),t._v(" "),_("ul",[_("li",[t._v("[IMP] 提升改善正在开发或者已经实现的功能")]),t._v(" "),_("li",[t._v("[FIX] 修正BUG")]),t._v(" "),_("li",[t._v("[REF] 重构一个功能，对功能重写")]),t._v(" "),_("li",[t._v("[ADD] 添加实现新功能")]),t._v(" "),_("li",[t._v("[REM] 删除不需要的文件")]),t._v(" "),_("li",[t._v("[WIP] work in process")]),t._v(" "),_("li",[t._v("[TEST] 新增或修改测试用例")]),t._v(" "),_("li",[t._v("[STYLE] style 代码格式化改动，缺少分号等")])]),t._v(" "),_("h2",{attrs:{id:"三、工具的使用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#三、工具的使用"}},[t._v("#")]),t._v(" 三、工具的使用")]),t._v(" "),_("p",[t._v("工具列表：")]),t._v(" "),_("blockquote",[_("ul",[_("li",[_("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//github.com/commitizen/cz-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitizen/cz-cli"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//github.com/commitizen/cz-conventional-changelog",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitizen/cz-conventional-changelog"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//github.com/conventional-changelog/standard-version",target:"_blank",rel:"noopener noreferrer"}},[t._v("conventional-changelog/standard-version"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//github.com/marionebl/commitlint",target:"_blank",rel:"noopener noreferrer"}},[t._v("marionebl/commitlint"),_("OutboundLink")],1)])])]),t._v(" "),_("p",[t._v("使用教程：")]),t._v(" "),_("blockquote",[_("ul",[_("li",[_("a",{attrs:{href:"https://www.jianshu.com/p/dc3581887cbb",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java项目如何使用commitizen插件"),_("OutboundLink")],1)])])]),t._v(" "),_("h1",{attrs:{id:"参考资料"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),_("blockquote",[_("ul",[_("li",[_("a",{attrs:{href:"https://blog.csdn.net/Jason847/article/details/78617067",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git提交日志格式规约"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"http://researchlab.github.io/2019/09/14/git-comment-specs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 提交日志格式规约"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"http://choerodon.io/zh/docs/practice-specification-reference/development/branch-management/",target:"_blank",rel:"noopener noreferrer"}},[t._v("choerodon_提交命名规约"),_("OutboundLink")],1)])])])])}),[],!1,null,null,null);e.default=r.exports}}]);