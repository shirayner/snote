(window.webpackJsonp=window.webpackJsonp||[]).push([[322],{1411:function(s,a,t){"use strict";t.r(a);var e=t(4),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("[TOC]")]),s._v(" "),t("h1",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),t("p",[s._v("本文转自 "),t("a",{attrs:{href:"https://www.runoob.com/docker/docker-command-manual.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("菜鸟教程_Docker命令大全"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("所有命令的选项参数可通过 添加"),t("code",[s._v("--help")]),s._v("来查询，如：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker pull --help\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"一、镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、镜像"}},[s._v("#")]),s._v(" 一、镜像")]),s._v(" "),t("h2",{attrs:{id:"_1-镜像仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-镜像仓库"}},[s._v("#")]),s._v(" 1.镜像仓库")]),s._v(" "),t("h3",{attrs:{id:"_1-1-login-logout"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-login-logout"}},[s._v("#")]),s._v(" 1.1 login/logout")]),s._v(" "),t("blockquote",[t("ul",[t("li",[t("strong",[s._v("docker login :")]),s._v(" 登陆到一个Docker镜像仓库，如果未指定镜像仓库地址，默认为官方仓库 Docker Hub")]),s._v(" "),t("li",[t("strong",[s._v("docker logout :")]),s._v(" 登出一个Docker镜像仓库，如果未指定镜像仓库地址，默认为官方仓库 Docker Hub")])])]),s._v(" "),t("p",[t("strong",[s._v("语法")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker login "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SERVER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("logout")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SERVER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**-u 😗*登陆的用户名")]),s._v(" "),t("li",[s._v("**-p 😗*登陆的密码")])])]),s._v(" "),t("p",[t("strong",[s._v("实例")]),s._v("：")]),s._v(" "),t("p",[s._v("（1）登入登出 Docker Hub")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker login -u 用户名 -p 密码\ndocker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("logout")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("（2）登入登出阿里云Docker Hub Mirror")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker login -u shiray1994@163.com registry.cn-shanghai.aliyuncs.com\ndocker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("logout")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_1-2-search"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-search"}},[s._v("#")]),s._v(" 1.2 search")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker search :")]),s._v(" 从Docker Hub查找镜像")])]),s._v(" "),t("p",[t("strong",[s._v("语法")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker search "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" IMAGE\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**--automated 😗*只列出 automated build类型的镜像；")]),s._v(" "),t("li",[s._v("**--no-trunc 😗*显示完整的镜像描述；")]),s._v(" "),t("li",[s._v("**-s 😗*列出收藏数不小于指定值的镜像。")])])]),s._v(" "),t("p",[t("strong",[s._v("实例")]),s._v("：")]),s._v(" "),t("p",[s._v("从Docker Hub查找所有镜像名包含java，并且收藏数大于10的镜像")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ docker search -s "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" java\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-3-pull"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-pull"}},[s._v("#")]),s._v(" 1.3 pull")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker pull :")]),s._v(" 从镜像仓库中拉取或者更新指定镜像")])]),s._v(" "),t("p",[t("strong",[s._v("语法")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker pull "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" NAME"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":TAG"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("@DIGEST"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**-a 😗*拉取所有 tagged 镜像")]),s._v(" "),t("li",[s._v("**--disable-content-trust 😗*忽略镜像的校验,默认开启")])])]),s._v(" "),t("p",[t("strong",[s._v("实例")])]),s._v(" "),t("p",[s._v("从Docker Hub下载java最新版镜像。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker pull java\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("注意事项")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ docker pull  镜像名\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("注意这里的镜像名格式如下，主要包括三个部分：Docker镜像仓库地址、仓库名、标签")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[Docker Registry 地址[:端口号]/]仓库名[:标签]\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("ul",[t("li",[s._v("Docker 镜像仓库地址\n"),t("ul",[t("li",[s._v("地址的格式一般是 "),t("code",[s._v("<域名/IP>[:端口号]")]),s._v("。")]),s._v(" "),t("li",[s._v("默认地址是 Docker Hub。若要拉取或上传镜像到其他镜像仓库，则需要指定镜像仓库地址。")])])]),s._v(" "),t("li",[s._v("仓库名\n"),t("ul",[t("li",[s._v("仓库名是两段式名称，即 "),t("code",[s._v("<用户名>/<软件名>")]),s._v("。")]),s._v(" "),t("li",[s._v("对于 Docker Hub，如果不给出用户名，则默认为 "),t("code",[s._v("library")]),s._v("，也就是官方镜像。")])])]),s._v(" "),t("li",[s._v("标签\n"),t("ul",[t("li",[s._v("可通过标签来指定镜像的版本")]),s._v(" "),t("li",[s._v("若不指定标签，则默认为 lastest")])])])])]),s._v(" "),t("h3",{attrs:{id:"_1-4-push"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-push"}},[s._v("#")]),s._v(" 1.4 push")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker push :")]),s._v(" 将本地的镜像上传到镜像仓库,要先登陆到镜像仓库")])]),s._v(" "),t("p",[t("strong",[s._v("语法")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker push [OPTIONS] NAME[:TAG]\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**--disable-content-trust 😗*忽略镜像的校验,默认开启")])])]),s._v(" "),t("p",[t("strong",[s._v("实例")])]),s._v(" "),t("p",[s._v("上传本地镜像 mysql 到镜像仓库中。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker push shirayner/mysql:v1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_2-本地镜像管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-本地镜像管理"}},[s._v("#")]),s._v(" 2.本地镜像管理")]),s._v(" "),t("h3",{attrs:{id:"_2-1-images"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-images"}},[s._v("#")]),s._v(" 2.1 images")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker images :")]),s._v(" 列出本地镜像。")])]),s._v(" "),t("p",[t("strong",[s._v("语法")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker images "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("REPOSITORY"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":TAG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[t("p",[s._v("**-a 😗*列出本地所有的镜像（含中间映像层，默认情况下，过滤掉中间映像层）；")])]),s._v(" "),t("li",[t("p",[s._v("**--digests 😗*显示镜像的摘要信息；")])]),s._v(" "),t("li",[t("p",[s._v("**-f 😗*显示满足条件的镜像；")])]),s._v(" "),t("li",[t("p",[s._v("**--format 😗*指定返回值的模板文件；")])]),s._v(" "),t("li",[t("p",[s._v("**--no-trunc 😗*显示完整的镜像信息；")])]),s._v(" "),t("li",[t("p",[s._v("**-q 😗*只显示镜像ID。")])])])]),s._v(" "),t("p",[t("strong",[s._v("实例")]),s._v("：")]),s._v(" "),t("p",[s._v("（1）列出所有镜像")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker images\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（2）删除所有镜像（先查出所有的镜像的id列表，然后再据此删除镜像）")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker rmi "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("docker images -aq"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-2-rmi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-rmi"}},[s._v("#")]),s._v(" 2.2 rmi")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker rmi :")]),s._v(" 删除本地一个或多少镜像。")])]),s._v(" "),t("p",[t("strong",[s._v("语法")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker rmi "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" IMAGE "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("IMAGE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**-f 😗*强制删除；")]),s._v(" "),t("li",[s._v("**--no-prune 😗*不移除该镜像的过程镜像，默认移除；")])])]),s._v(" "),t("p",[t("strong",[s._v("实例")]),s._v("：")]),s._v(" "),t("p",[s._v("（1）强制删除指定的本地镜像")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker rmi -f runoob/ubuntu:v4\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（2）删除所有镜像（先查出所有的镜像的id列表，然后再据此删除镜像）")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker rmi "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("docker images -aq"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-3-tag"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-tag"}},[s._v("#")]),s._v(" 2.3 tag")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker tag :")]),s._v(" 标记本地镜像，将其归入某一仓库。打成符合的标记后，才可 push 至指定的仓库。")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker tag "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  IMAGE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":TAG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("REGISTRYHOST/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("USERNAME/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("NAME"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":TAG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）给 ubuntu:15.10 镜像打标签，并上传至自己的 Docker Hub 的仓库下")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker  tag  ubuntu:15.10  shirayner/ubuntu:v3\ndocker push shirayner/ubuntu:v3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("（2）给 ubuntu:15.10 镜像打标签，并上传至阿里云Docker Hub Mirror （或者自己搭建的Registry）自己的仓库下")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker login -u shiray1994@163.com registry.cn-shanghai.aliyuncs.com\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker tag ubuntu:15.10 registry.cn-shanghai.aliyuncs.com/shirayner/ubuntu:v3\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker push registry.cn-shanghai.aliyuncs.com/shirayner/ubuntu:v3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_2-4-build"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-build"}},[s._v("#")]),s._v(" 2.4 build")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker build")]),s._v(" 命令用于使用 Dockerfile 创建镜像。")])]),s._v(" "),t("p",[t("strong",[s._v("语法")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker build "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" URL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("ul",[t("li",[t("p",[s._v("docker build 从 Dockerfile 和上下文构建构建镜像。")])]),s._v(" "),t("li",[t("p",[s._v("Dockerfile的位置可以使：本地资源路径（PATH）、Git仓库地址(URL)")])])])]),s._v(" "),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**--build-arg=[] 😗*设置镜像创建时的变量；")]),s._v(" "),t("li",[s._v("**--cpu-shares 😗*设置 cpu 使用权重；")]),s._v(" "),t("li",[s._v("**--cpu-period 😗*限制 CPU CFS周期；")]),s._v(" "),t("li",[s._v("**--cpu-quota 😗*限制 CPU CFS配额；")]),s._v(" "),t("li",[s._v("**--cpuset-cpus 😗*指定使用的CPU id；")]),s._v(" "),t("li",[s._v("**--cpuset-mems 😗*指定使用的内存 id；")]),s._v(" "),t("li",[s._v("**--disable-content-trust 😗*忽略校验，默认开启；")]),s._v(" "),t("li",[s._v("**-f 😗*指定要使用的Dockerfile路径；")]),s._v(" "),t("li",[s._v("**--force-rm 😗*设置镜像过程中删除中间容器；")]),s._v(" "),t("li",[s._v("**--isolation 😗*使用容器隔离技术；")]),s._v(" "),t("li",[s._v("**--label=[] 😗*设置镜像使用的元数据；")]),s._v(" "),t("li",[s._v("**-m 😗*设置内存最大值；")]),s._v(" "),t("li",[s._v('**--memory-swap 😗*设置Swap的最大值为内存+swap，"-1"表示不限swap；')]),s._v(" "),t("li",[s._v("**--no-cache 😗*创建镜像的过程不使用缓存；")]),s._v(" "),t("li",[s._v("**--pull 😗*尝试去更新镜像的新版本；")]),s._v(" "),t("li",[s._v("**--quiet, -q 😗*安静模式，成功后只输出镜像 ID；")]),s._v(" "),t("li",[s._v("**--rm 😗*设置镜像成功后删除中间容器；")]),s._v(" "),t("li",[s._v("**--shm-size 😗*设置/dev/shm的大小，默认值是64M；")]),s._v(" "),t("li",[s._v("**--ulimit 😗*Ulimit配置。")]),s._v(" "),t("li",[t("strong",[s._v("--tag, -t:")]),s._v(" 镜像的名字及标签，通常 name:tag 或者 name 格式；可以在一次构建中为一个镜像设置多个标签。")]),s._v(" "),t("li",[t("strong",[s._v("--network:")]),s._v(" 默认 default。在构建期间设置RUN指令的网络模式")])])]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）使用当前目录的 Dockerfile 创建镜像，标签为 runoob/ubuntu:v1")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker build -t runoob/ubuntu:v1 . \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（2）使用URL "),t("code",[s._v("github.com/creack/docker-firefox")]),s._v(" 的 Dockerfile 创建镜像。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker build github.com/creack/docker-firefox\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（3）也可以通过 -f Dockerfile 文件的位置：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker build -f /path/to/a/Dockerfile .\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-5-history"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-history"}},[s._v("#")]),s._v(" 2.5 history")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker history :")]),s._v(" 查看指定镜像的创建历史。")])]),s._v(" "),t("p",[t("strong",[s._v("语法")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" IMAGE\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**-H 😗*以可读的格式打印镜像大小和日期，默认为true；")]),s._v(" "),t("li",[s._v("**--no-trunc 😗*显示完整的提交记录；")]),s._v(" "),t("li",[s._v("**-q 😗*仅列出提交记录ID。")])])]),s._v(" "),t("p",[t("strong",[s._v("实例")]),s._v("：")]),s._v(" "),t("p",[s._v("（1）查看本地镜像runoob/ubuntu:v3的创建历史。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker history runoob/ubuntu:v3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-6-save"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-save"}},[s._v("#")]),s._v(" 2.6 save")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker save :")]),s._v(" 将指定镜像保存成 tar 归档文件。")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker save "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" IMAGE "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("IMAGE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS 说明：")]),s._v(" "),t("blockquote",[t("p",[s._v("**-o 😗*输出到的文件。")])]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）将镜像 runoob/ubuntu:v3 生成 my_ubuntu_v3.tar 文档")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" docker save -o my_ubuntu_v3.tar runoob/ubuntu:v3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-7-load"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-load"}},[s._v("#")]),s._v(" 2.7 load")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker load :")]),s._v(" 导入使用 docker save 命令导出的镜像。")])]),s._v(" "),t("p",[t("strong",[s._v("语法")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker load [OPTIONS]\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS 说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[t("strong",[s._v("-i :")]),s._v(" 指定导出的文件。")]),s._v(" "),t("li",[t("strong",[s._v("-q :")]),s._v(" 精简输出信息。")])])]),s._v(" "),t("p",[t("strong",[s._v("实例")]),s._v("：")]),s._v(" "),t("p",[s._v("（1）导入镜像：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker load -i ubuntu.tar\ndocker load "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" ubuntu.tar\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2-8-import"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-import"}},[s._v("#")]),s._v(" 2.8 import")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker import :")]),s._v(" 从归档文件中创建镜像。")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("URL"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("- "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("REPOSITORY"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":TAG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**-c 😗*应用docker 指令创建镜像；")]),s._v(" "),t("li",[s._v("**-m 😗*提交时的说明文字；")])])]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("从镜像归档文件my_ubuntu_v3.tar创建镜像，命名为runoob/ubuntu:v4")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker import  my_ubuntu_v3.tar runoob/ubuntu:v4  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"二、容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、容器"}},[s._v("#")]),s._v(" 二、容器")]),s._v(" "),t("h2",{attrs:{id:"_1-容器生命周期管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-容器生命周期管理"}},[s._v("#")]),s._v(" 1. 容器生命周期管理")]),s._v(" "),t("h3",{attrs:{id:"_1-1-run"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-run"}},[s._v("#")]),s._v(" 1.1 run")]),s._v(" "),t("blockquote",[t("p",[s._v("**docker run ：**创建一个新的容器并运行一个命令")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" IMAGE "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("COMMAND"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ARG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[t("strong",[s._v("-a stdin:")]),s._v(" 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；")]),s._v(" "),t("li",[t("strong",[s._v("-d:")]),s._v(" 后台运行容器，并返回容器ID；")]),s._v(" "),t("li",[t("strong",[s._v("-i:")]),s._v(" 以交互模式运行容器，通常与 -t 同时使用；")]),s._v(" "),t("li",[t("strong",[s._v("-P:")]),s._v(" 随机端口映射，容器内部端口"),t("strong",[s._v("随机")]),s._v("映射到主机的高端口")]),s._v(" "),t("li",[t("strong",[s._v("-p:")]),s._v(" 指定端口映射，格式为："),t("strong",[s._v("主机(宿主)端口:容器端口")])]),s._v(" "),t("li",[t("strong",[s._v("-t:")]),s._v(" 为容器重新分配一个伪输入终端，通常与 -i 同时使用；")]),s._v(" "),t("li",[t("strong",[s._v('--name="nginx-lb":')]),s._v(" 为容器指定一个名称；")]),s._v(" "),t("li",[t("strong",[s._v("--dns 8.8.8.8:")]),s._v(" 指定容器使用的DNS服务器，默认和宿主一致；")]),s._v(" "),t("li",[t("strong",[s._v("--dns-search example.com:")]),s._v(" 指定容器DNS搜索域名，默认和宿主一致；")]),s._v(" "),t("li",[t("strong",[s._v('-h "mars":')]),s._v(" 指定容器的hostname；")]),s._v(" "),t("li",[t("strong",[s._v('-e username="ritchie":')]),s._v(" 设置环境变量；")]),s._v(" "),t("li",[t("strong",[s._v("--env-file=[]:")]),s._v(" 从指定文件读入环境变量；")]),s._v(" "),t("li",[t("strong",[s._v('--cpuset="0-2" or --cpuset="0,1,2":')]),s._v(" 绑定容器到指定CPU运行；")]),s._v(" "),t("li",[s._v("**-m 😗*设置容器使用内存最大值；")]),s._v(" "),t("li",[t("strong",[s._v('--net="bridge":')]),s._v(" 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；")]),s._v(" "),t("li",[t("strong",[s._v("--link=[]:")]),s._v(" 添加链接到另一个容器；")]),s._v(" "),t("li",[t("strong",[s._v("--expose=[]:")]),s._v(" 开放一个端口或一组端口；")])])]),s._v(" "),t("p",[t("strong",[s._v("实例")]),s._v("：")]),s._v(" "),t("p",[s._v("（1）使用docker镜像nginx:latest以后台模式启动一个容器,并将容器命名为mynginx。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker run --name mynginx -d nginx:latest\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（2）使用镜像 nginx:latest，以后台模式启动一个容器,将容器的 80 端口映射到主机的 80 端口,主机的目录 /data 映射到容器的 /data。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(":80 -v /data:/data -d nginx:latest\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（3）绑定容器的 8080 端口，并将其映射到本地主机 127.0.0.1 的 80 端口上。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" docker run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:80:8080/tcp ubuntu "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-2-start-stop-restart"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-start-stop-restart"}},[s._v("#")]),s._v(" 1.2 start/stop/restart")]),s._v(" "),t("blockquote",[t("ul",[t("li",[t("p",[t("strong",[s._v("docker start")]),s._v(" : 启动一个或多个已经被停止的容器")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("docker stop")]),s._v(" : 停止一个运行中的容器")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("docker restart")]),s._v(" : 重启容器")])])])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker start "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CONTAINER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndocker stop "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CONTAINER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndocker restart "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CONTAINER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）启动已被停止的容器 mysql")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker start mysql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（2）停止运行中的容器 mysql")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker stop mysql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（3）重启容器 mysql")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker restart mysql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-3-kill"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-kill"}},[s._v("#")]),s._v(" 1.3 kill")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker kill")]),s._v(" :杀掉一个运行中的容器。")])]),s._v(" "),t("p",[t("strong",[s._v("语法")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CONTAINER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("p",[s._v("**-s 😗*向容器发送一个信号")])]),s._v(" "),t("p",[t("strong",[s._v("实例")]),s._v("：")]),s._v(" "),t("p",[s._v("（1）杀掉运行中的容器 nginx")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -s KILL nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-4-rm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-rm"}},[s._v("#")]),s._v(" 1.4 rm")]),s._v(" "),t("blockquote",[t("p",[s._v("**docker rm ：**删除一个或多少容器")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CONTAINER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**-f 😗*通过SIGKILL信号强制删除一个运行中的容器")]),s._v(" "),t("li",[s._v("**-l 😗*移除容器间的网络连接，而非容器本身")]),s._v(" "),t("li",[t("strong",[s._v("-v :")]),s._v("-v 删除与容器关联的卷")])])]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）强制删除容器db01、db02")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f db01 db02\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（2）移除容器nginx01对容器db01的连接，连接名db")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -l db \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（3）删除容器nginx01,并删除容器挂载的数据卷")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -v nginx01\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-5-pause-unpause"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-pause-unpause"}},[s._v("#")]),s._v(" 1.5 pause/unpause")]),s._v(" "),t("blockquote",[t("ul",[t("li",[t("strong",[s._v("docker pause")]),s._v(" :暂停容器中所有的进程。")]),s._v(" "),t("li",[t("strong",[s._v("docker unpause")]),s._v(" :恢复容器中所有的进程。")])])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker pause "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CONTAINER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndocker unpause "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CONTAINER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）暂停数据库容器db01提供服务。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker pause db01\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（2）恢复数据库容器db01提供服务。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker unpause db01\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-6-create"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-create"}},[s._v("#")]),s._v(" 1.6 create")]),s._v(" "),t("blockquote",[t("p",[s._v("**docker create ：**创建一个新的容器但不启动它")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker create "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" IMAGE "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("COMMAND"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ARG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("语法同 docker run")]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）使用docker镜像nginx:latest创建一个容器,并将容器命名为myrunoob")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker create  --name myrunoob  nginx:latest      \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-7-exec"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-exec"}},[s._v("#")]),s._v(" 1.7 exec")]),s._v(" "),t("blockquote",[t("p",[s._v("**docker exec ：**在运行的容器中执行命令")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER COMMAND "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ARG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**-d 😗*分离模式: 在后台运行")]),s._v(" "),t("li",[s._v("**-i 😗*即使没有附加也保持STDIN 打开")]),s._v(" "),t("li",[s._v("**-t 😗*分配一个伪终端")])])]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）在容器 mynginx 中以交互模式执行容器内 /root/runoob.sh 脚本:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it mynginx /bin/sh /root/runoob.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（2）在容器 mynginx 中开启一个交互模式的终端:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -i -t  mynginx /bin/bash\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("也可以通过 "),t("strong",[s._v("docker ps -a")]),s._v(" 命令查看已经在运行的容器，然后使用容器 ID 进入容器。")]),s._v(" "),t("h2",{attrs:{id:"_2-容器操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-容器操作"}},[s._v("#")]),s._v(" 2.容器操作")]),s._v(" "),t("h3",{attrs:{id:"_2-1-ps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-ps"}},[s._v("#")]),s._v(" 2.1 ps")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker ps :")]),s._v(" 列出容器")])]),s._v(" "),t("p",[t("strong",[s._v("语法")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker ps [OPTIONS]\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**-a 😗*显示所有的容器，包括未运行的。")]),s._v(" "),t("li",[s._v("**-f 😗*根据条件过滤显示的内容。")]),s._v(" "),t("li",[s._v("**--format 😗*指定返回值的模板文件。")]),s._v(" "),t("li",[s._v("**-l 😗*显示最近创建的容器。")]),s._v(" "),t("li",[s._v("**-n 😗*列出最近创建的n个容器。")]),s._v(" "),t("li",[s._v("**--no-trunc 😗*不截断输出。")]),s._v(" "),t("li",[s._v("**-q 😗*静默模式，只显示容器编号。")]),s._v(" "),t("li",[s._v("**-s 😗*显示总的文件大小。")])])]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）列出所有在运行的容器信息。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker ps\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（2）列出最近创建的5个容器信息。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（3）列出所有创建的容器ID。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a -q\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-2-inspect"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-inspect"}},[s._v("#")]),s._v(" 2.2 inspect")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker inspect :")]),s._v(" 获取容器/镜像的元数据。")])]),s._v(" "),t("p",[t("strong",[s._v("语法")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker inspect "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" NAME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("ID "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("NAME"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**-f 😗*指定返回值的模板文件。")]),s._v(" "),t("li",[s._v("**-s 😗*显示总的文件大小。")]),s._v(" "),t("li",[s._v("**--type 😗*为指定类型返回JSON。")])])]),s._v(" "),t("p",[t("strong",[s._v("实例")]),s._v("：")]),s._v(" "),t("p",[s._v("（1）获取镜像mysql:5.6的元信息。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker inspect mysql:5.6\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-3-top"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-top"}},[s._v("#")]),s._v(" 2.3 top")]),s._v(" "),t("blockquote",[t("p",[s._v("**docker top 😗*查看容器中运行的进程信息，支持 ps 命令参数。")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ps OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("容器运行时不一定有 /bin/bash 终端来交互执行top命令，而且容器还不一定有top命令，可以使用docker top来实现查看container中正在运行的进程。")]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）查看容器mymysql的进程信息。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker top mymysql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-4-attach"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-attach"}},[s._v("#")]),s._v(" 2.4 attach")]),s._v(" "),t("blockquote",[t("p",[s._v("**docker attach 😗*连接到正在运行中的容器。")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker attach [OPTIONS] CONTAINER\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("attach可以带上--sig-proxy=false来确保CTRL-D或CTRL-C不会关闭容器。")]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）容器mynginx将访问日志指到标准输出，连接到容器查看访问信息。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker attach --sig-proxy"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false mynginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-5-events"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-events"}},[s._v("#")]),s._v(" 2.5 events")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker events :")]),s._v(" 从服务器获取实时事件")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker events "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**-f ：**根据条件过滤事件；")]),s._v(" "),t("li",[s._v("**--since ：**从指定的时间戳后显示所有事件;")]),s._v(" "),t("li",[s._v("**--until ：**流水时间显示到指定的时间为止；")])])]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）显示docker 镜像为mysql:5.6 2016年7月1日后的相关事件。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('ocker events -f "image"="mysql:5.6" --since="1467302400" \n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-6-logs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-logs"}},[s._v("#")]),s._v(" 2.6 logs")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker logs :")]),s._v(" 获取容器的日志")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker logs "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[t("strong",[s._v("-f :")]),s._v(" 跟踪日志输出")]),s._v(" "),t("li",[s._v("**--since 😗*显示某个开始时间的所有日志")]),s._v(" "),t("li",[t("strong",[s._v("-t :")]),s._v(" 显示时间戳")]),s._v(" "),t("li",[s._v("**--tail 😗*仅列出最新N条容器日志")])])]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）跟踪查看容器mynginx的日志输出。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker logs -f mynginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（2）查看容器mynginx从2016年7月1日后的最新10条日志。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker logs --since"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2016-07-01"')]),s._v(" --tail"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" mynginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-7-wait"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-wait"}},[s._v("#")]),s._v(" 2.7 wait")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker wait :")]),s._v(" 阻塞运行直到容器停止，然后打印出它的退出代码。")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("CONTAINER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("实例：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker wait CONTAINER\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-8-export"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-export"}},[s._v("#")]),s._v(" 2.8 export")]),s._v(" "),t("blockquote",[t("p",[s._v("**docker export 😗*将文件系统作为一个tar归档文件导出到STDOUT。")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("p",[s._v("**-o 😗*将输入内容写到文件。")])]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）将id为a404c6c174a2的容器按日期保存为tar文件。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker export -o mysql-`date +%Y%m%d`.tar a404c6c174a2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-9-port"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-port"}},[s._v("#")]),s._v(" 2.9 port")]),s._v(" "),t("blockquote",[t("p",[s._v("**docker port 😗*列出指定的容器的端口映射，或者查找将PRIVATE_PORT NAT到面向公众的端口。")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker port "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PRIVATE_PORT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("/PROTO"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）查看容器mynginx的端口映射情况。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("runoob@runoob:~$ docker port mymysql\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("/tcp -"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:3306\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"_3-容器rootfs命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-容器rootfs命令"}},[s._v("#")]),s._v(" 3.容器rootfs命令")]),s._v(" "),t("h3",{attrs:{id:"_3-1-commit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-commit"}},[s._v("#")]),s._v(" 3.1 commit")]),s._v(" "),t("blockquote",[t("p",[s._v("**docker commit 😗*从容器创建一个新的镜像。")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker commit "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("REPOSITORY"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":TAG"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("**-a 😗*提交的镜像作者；")]),s._v(" "),t("li",[s._v("**-c 😗*使用Dockerfile指令来创建镜像；")]),s._v(" "),t("li",[s._v("**-m 😗*提交时的说明文字；")]),s._v(" "),t("li",[s._v("**-p 😗*在commit时，将容器暂停。")])])]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）将容器a404c6c174a2 保存为新的镜像,并添加提交人信息和说明信息。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker commit -a "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"runoob.com"')]),s._v(" -m "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my apache"')]),s._v(" a404c6c174a2  mymysql:v1 \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_3-2-cp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-cp"}},[s._v("#")]),s._v(" 3.2 cp")]),s._v(" "),t("blockquote",[t("p",[s._v("**docker cp 😗*用于容器与主机之间的数据拷贝。")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER:SRC_PATH DEST_PATH"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" SRC_PATH"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("- CONTAINER:DEST_PATH\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("OPTIONS说明：")]),s._v(" "),t("blockquote",[t("p",[s._v("**-L 😗*保持源目标中的链接")])]),s._v(" "),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）将主机/www/runoob目录拷贝到容器96f7f14e99ab的/www目录下。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /www/runoob 96f7f14e99ab:/www/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（2）将主机/www/runoob目录拷贝到容器96f7f14e99ab中，目录重命名为www。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /www/runoob 96f7f14e99ab:/www\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("（3）将容器96f7f14e99ab的/www目录拷贝到主机的/tmp目录中。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v("  96f7f14e99ab:/www /tmp/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_3-3-diff"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-diff"}},[s._v("#")]),s._v(" 3.3 diff")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("docker diff :")]),s._v(" 检查容器里文件结构的更改")])]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("实例：")]),s._v(" "),t("p",[s._v("（1）查看容器mymysql的文件结构更改。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" mymysql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"参考资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),t("ol",[t("li",[t("a",{attrs:{href:"https://yeasy.gitbooks.io/docker_practice/content/",target:"_blank",rel:"noopener noreferrer"}},[s._v("gitbook__Docker — 从入门到实践"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.runoob.com/docker/docker-command-manual.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker 命令大全"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/docker/",target:"_blank",rel:"noopener noreferrer"}},[s._v("docker commandline"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);