(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1300:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#推荐阅读"}},[t._v("推荐阅读")])]),n("li",[n("a",{attrs:{href:"#一、jdk-命令行工具"}},[t._v("一、JDK 命令行工具")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-jps"}},[t._v("1.jps")])]),n("li",[n("a",{attrs:{href:"#_2-jstat"}},[t._v("2.jstat")])]),n("li",[n("a",{attrs:{href:"#_3-jinfo"}},[t._v("3.jinfo")])]),n("li",[n("a",{attrs:{href:"#_4-jmap"}},[t._v("4.jmap")])]),n("li",[n("a",{attrs:{href:"#_5-jhat"}},[t._v("5.jhat")])]),n("li",[n("a",{attrs:{href:"#_6-jstack"}},[t._v("6.jstack")])])])]),n("li",[n("a",{attrs:{href:"#二、linux-命令行工具"}},[t._v("二、Linux 命令行工具")])]),n("li",[n("a",{attrs:{href:"#三、可视化工具"}},[t._v("三、可视化工具")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-jvisualvm"}},[t._v("1. jvisualvm")])]),n("li",[n("a",{attrs:{href:"#_2-mat"}},[t._v("2.MAT")])])])]),n("li",[n("a",{attrs:{href:"#四、arthas"}},[t._v("四、Arthas")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-下载-arthas"}},[t._v("1.下载 Arthas")])]),n("li",[n("a",{attrs:{href:"#_2-启动-demo"}},[t._v("2.启动 Demo")])]),n("li",[n("a",{attrs:{href:"#_3-启动-arthas"}},[t._v("3.启动 Arthas")])]),n("li",[n("a",{attrs:{href:"#_4-dashboard"}},[t._v("4.dashboard")])]),n("li",[n("a",{attrs:{href:"#_5-thread"}},[t._v("5.thread")])]),n("li",[n("a",{attrs:{href:"#_6-jad"}},[t._v("6.jad")])]),n("li",[n("a",{attrs:{href:"#_7-watch"}},[t._v("7.watch")])]),n("li",[n("a",{attrs:{href:"#_8-退出-arthas"}},[t._v("8.退出 arthas")])])])])])]),n("p"),t._v(" "),n("p",[t._v("[toc]")]),t._v(" "),n("h2",{attrs:{id:"推荐阅读"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#推荐阅读"}},[t._v("#")]),t._v(" 推荐阅读")]),t._v(" "),n("blockquote",[n("ul",[n("li",[n("a",{attrs:{href:"https://gist.github.com/iamsixer/e7c1b1d459f52effd1c345870387a2c3",target:"_blank",rel:"noopener noreferrer"}},[t._v("JVM 性能调优及监控工具.md"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://www.cnblogs.com/chiangchou/p/jvm-4.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JVM 性能调优（4） —— 性能调优工具"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://mp.weixin.qq.com/s/iqlzfq_niGBBGeDz7iNTDg",target:"_blank",rel:"noopener noreferrer"}},[t._v("JVM 性能监控与分析工具，我只用这几个！"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.cn/post/6844903501269729288",target:"_blank",rel:"noopener noreferrer"}},[t._v("jvm 调优工具分析指南"),n("OutboundLink")],1)])])]),t._v(" "),n("h2",{attrs:{id:"一、jdk-命令行工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、jdk-命令行工具"}},[t._v("#")]),t._v(" 一、JDK 命令行工具")]),t._v(" "),n("blockquote",[n("p",[t._v("参考官方文档：https://docs.oracle.com/javase/8/docs/technotes/tools/unix/toc.html")])]),t._v(" "),n("p",[t._v("JDK 自带了很多性能监控工具，我们可以用这些工具来监测系统和排查内存性能问题。")]),t._v(" "),n("p",[t._v("命令行工具：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("主要作用")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("jps")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("JVM 进程状态工具，查看系统上的 JVM 进程信息")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("jstat")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("JVM 统计信息监控工具，附加到一个 JVM 进程上收集和记录 JVM 的各种性能指标数据")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("jinfo")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("JVM 配置信息工具，查看 JVM 配置参数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("jmap")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("JVM 堆内存分析工具，可以打印 JVM 进程对象直方图，类加载统计，以及做堆转储操作")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("jhat")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("JVM Heap Analysis Tool, 用于分析 heapdump 文件（它会建立一个 HTTP/HTML 服务器，让用户可以在浏览器上查看分析结果）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("jstack")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Stack Trace for Java, 显示虚拟机的线程快照")])])])]),t._v(" "),n("h3",{attrs:{id:"_1-jps"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-jps"}},[t._v("#")]),t._v(" 1.jps")]),t._v(" "),n("blockquote",[n("p",[t._v("见官方文档："),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jps.html#CHDCGECD",target:"_blank",rel:"noopener noreferrer"}},[t._v("jps_java8"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("JVM Process Status Tool （虚拟机进程状况工具）：")]),t._v(" "),n("blockquote",[n("p",[t._v("查看本机当前登录用户的 java 进程，显示当前所有正在运行的虚拟机进程 ID、执行的主类名称、JVM 启动参数")])]),t._v(" "),n("p",[t._v("（1）命令格式")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("jps "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" options "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" hostid "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("options：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("option")]),t._v(" "),n("th",[t._v("description")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("-q")]),t._v(" "),n("td",[t._v("只显示 pid，忽略 class 名称、jar 文件名和传递给 main 方法的参数")])]),t._v(" "),n("tr",[n("td",[t._v("-m")]),t._v(" "),n("td",[t._v("输出传递给 main 方法的参数，如果是内嵌的 JVM 则输出为 null")])]),t._v(" "),n("tr",[n("td",[t._v("-l")]),t._v(" "),n("td",[t._v("输出应用程序主类的完整包名，或者是应用程序 JAR 文件的完整路径")])]),t._v(" "),n("tr",[n("td",[t._v("-v")]),t._v(" "),n("td",[t._v("输出传递给 JVM 的参数")])]),t._v(" "),n("tr",[n("td",[t._v("-V")]),t._v(" "),n("td",[t._v("输出通过标记的文件传递给 JVM 的参数（.hotspotrc 文件，或者是通过参数-XX:Flags="),n("code",[t._v("<filename>")]),t._v("指定的文件）")])]),t._v(" "),n("tr",[n("td",[t._v("-J")]),t._v(" "),n("td",[t._v("用于传递 jvm 选项到由 javac 调用的 java 加载器中，例如，“-J-Xms48m”将把启动内存设置为 48M，使用-J 选项可以非常方便的向基于 Java 的开发的底层虚拟机应用程序传递参数。")])])])]),t._v(" "),n("p",[t._v("（2）示例")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ jps\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15236")]),t._v(" Jps\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14966")]),t._v(" Example1\n\n$ jps -l\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15249")]),t._v(" sun.tools.jps.Jps\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14966")]),t._v(" com.jaxer.jvm.egs.Example1\n\n$ jps -v\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14966")]),t._v(" Example1 -Dvisualvm.id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("44321340563858")]),t._v(" -Xmx50m -Xms50m -XX:+PrintGCDetails -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("61849")]),t._v(":/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("UTF-8\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15278")]),t._v(" Jps -Dapplication.home"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home -Xms8m\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("h3",{attrs:{id:"_2-jstat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-jstat"}},[t._v("#")]),t._v(" 2.jstat")]),t._v(" "),n("blockquote",[n("p",[t._v("见官方文档："),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("jstat_java8"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("JVM Statistics Monitoring Tool （JVM 统计信息监控工具），Jstat 用于监控基于 HotSpot 的 JVM，对其堆的使用情况进行实时的命令行的统计，使用 jstat 我们可以对指定的 JVM 做如下监控：")]),t._v(" "),n("blockquote",[n("ul",[n("li",[n("p",[t._v("类的加载及卸载情况")])]),t._v(" "),n("li",[n("p",[t._v("查看新生代、老生代及持久代的容量及使用情况")])]),t._v(" "),n("li",[n("p",[t._v("查看新生代、老生代及持久代的垃圾收集情况，包括垃圾回收的次数及垃圾回收所占用的时间")])]),t._v(" "),n("li",[n("p",[t._v("查看新生代中 Eden 区及 Survior 区中容量及分配情况等")])])])]),t._v(" "),n("p",[t._v("（1）命令格式")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("jstat "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" generalOption "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" outputOptions vmid "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" interval"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("s"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" count "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[n("strong",[t._v("generalOption")]),t._v("：单个的常用的命令行选项，如-help, -options, 或 -version。")]),t._v(" "),n("p",[n("strong",[t._v("outputOptions")]),t._v("：一个或多个输出选项，由单个的 statOption 选项组成，可以和-t, -h, and -J 等选项配合使用。")]),t._v(" "),n("p",[n("strong",[t._v("statOption")]),t._v("：根据 jstat 统计的维度不同，可以使用如下表中的选项进行不同维度的统计，不同的操作系统支持的选项可能会不一样，可以通过-options 选项，查看不同操作系统所支持选项，如：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("Option")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#class_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("class"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("用于查看类加载情况的统计")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#compiler_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("compiler"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("用于查看 HotSpot 中即时编译器编译情况的统计")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#gc_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("gc"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("用于查看 JVM 中堆的垃圾收集情况的统计")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#gccapacity_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("gccapacity"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("用于查看新生代、老生代及持久代的存储容量情况")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#gccause_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("gccause"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("用于查看垃圾收集的统计情况（这个和-gcutil 选项一样），如果有发生垃圾收集，它还会显示最后一次及当前正在发生垃圾收集的原因。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#gcnew_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("gcnew"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("用于查看新生代垃圾收集的情况")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#gcnewcapacity_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("gcnewcapacity"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("用于查看新生代的存储容量情况")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#gcold_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("gcold"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("用于查看老生代及持久代发生 GC 的情况")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#gcoldcapacity_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("gcoldcapacity"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("用于查看老生代的容量")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#gcpermcapacity_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("gcpermcapacity"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("用于查看持久代的容量")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#gcutil_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("gcutil"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("用于查看新生代、老生代及持代垃圾收集的情况")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{attrs:{href:"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html#printcompilation_option",target:"_blank",rel:"noopener noreferrer"}},[t._v("printcompilation"),n("OutboundLink")],1)]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("HotSpot 编译方法的统计")])])])]),t._v(" "),n("p",[n("strong",[t._v("-h")]),t._v(" n：用于指定每隔几行就输出列头，如果不指定，默认是只在第一行出现列头。")]),t._v(" "),n("p",[n("strong",[t._v("-J")]),t._v(" javaOption：用于将给定的"),n("em",[t._v("javaOption")]),t._v("传给 java 应用程序加载器，例如，“-J-Xms48m”将把启动内存设置为 48M。如果想查看可以传递哪些选项到应用程序加载器中，可以相看如下的文档：")]),t._v(" "),n("blockquote",[n("ul",[n("li",[t._v("Linux and Solaris：http://docs.oracle.com/javase/1.5.0/docs/tooldocs/solaris/java.html")]),t._v(" "),n("li",[t._v("Windows： http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/java.html")])])]),t._v(" "),n("p",[n("strong",[t._v("-t")]),t._v(" n ：用于在输出内容的第一列显示时间戳，这个时间戳代表的时 JVM 开始启动到现在的时间（注：在 IBM JDK5 中是没有这个选项的）")]),t._v(" "),n("p",[n("strong",[t._v("vmid")]),t._v(" ： VM 的进程号，即当前运行的 java 进程号 pid。")]),t._v(" "),n("p",[n("strong",[t._v("interval")]),t._v(" ：间隔时间，单位可以是秒或者毫秒，通过指定 s 或 ms 确定，默认单位为毫秒。")]),t._v(" "),n("p",[n("strong",[t._v("count")]),t._v("：打印次数，如果缺省则打印无数次。")]),t._v(" "),n("p",[t._v("（2）不同的统计维度（statOption）及输出说明")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("-class")]),t._v("：类加载情况的统计")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Loaded")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("加载了的类的数量")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Bytes")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("加载了的类的大小，单为 Kb")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Unloaded")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("卸载了的类的数量")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Bytes")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("卸载了的类的大小，单为 Kb")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Time")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("花在类的加载及卸载的时间")])])])]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("-compiler")]),t._v("：HotSpot 中即时编译器编译情况的统计")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Compiled")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("编译任务执行的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Failed")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("编译任务执行失败的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Invalid")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("编译任务非法执行的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Time")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("执行编译花费的时间")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FailedType")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("最后一次编译失败的编译类型")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FailedMethod")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("最后一次编译失败的类名及方法名")])])])]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("-gc")]),t._v("：JVM 中堆的垃圾收集情况的统计")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S0C")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("新生代中 Survivor space 中 S0 当前容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S1C")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("新生代中 Survivor space 中 S1 当前容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S0U")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("新生代中 Survivor space 中 S0 容量使用的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S1U")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("新生代中 Survivor space 中 S1 容量使用的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("EC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Eden space 当前容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("EU")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Eden space 容量使用的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Old space 当前容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OU")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Old space 使用容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("MC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("元空间当前容量大小(KB)")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("MU")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("元空间已使用容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("YGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Young GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("YGCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时 Young GC 所用的时间(秒)")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Full GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时 Full GC 所用的时间(秒)")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("GCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("T 从应用程序启动到采样时用于垃圾回收的总时间(单位秒)，它的值等于 YGC+FGC")])])])]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("-gccapacity")]),t._v("：新生代、老生代及持久代的存储容量情况")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("NGCMN")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("新生代的最小容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("NGCMX")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("新生代的最大容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("NGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前新生代的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S0C")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前新生代中 survivor space 0 的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S1C")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前新生代中 survivor space 1 的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("EC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Eden space 当前容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OGCMN")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("老生代的最小容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OGCMX")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("老生代的最大容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前老生代的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前老生代的空间容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("PGCMN")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("持久代的最小容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("PGCMX")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("持久代的最大容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("PGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前持久代的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("PC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前持久代的空间容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("YGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Young GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Full GC 的次数")])])])]),t._v(" "),n("ul",[n("li",[n("p",[n("strong",[t._v("-gccause")]),t._v(" ：用于查看垃圾收集的统计情况，包括最近发生垃圾的原因")]),t._v(" "),n("p",[t._v("这个选项用于查看垃圾收集的统计情况（这个和-gcutil 选项一样），如果有发生垃圾收集，它还会显示最后一次及当前正在发生垃圾收集的原因，它比**-gcutil**会多出最后一次垃圾收集原因以及当前正在发生的垃圾收集的原因。")])])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("LGCC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("最后一次垃圾收集的原因，可能为“unknown GCCause”、“System.gc()”等")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("GCC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前垃圾收集的原因")])])])]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("-gcnew")]),t._v("：新生代垃圾收集的情况")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S0C")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前新生代中 survivor space 0 的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S1C")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前新生代中 survivor space 1 的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S0U")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("S0 已经使用的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S1U")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("S1 已经使用的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("TT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Tenuring threshold，要了解这个参数，我们需要了解一点 Java 内存对象的结构，在 Sun JVM 中，（除了数组之外的）对象都有两个机器字（words）的头部。第一个字中包含这个对象的标示哈希码以及其他一些类似锁状态和等标识信息，第二个字中包含一个指向对象的类的引用，其中第二个字节就会被垃圾收集算法使用到。 在新生代中做垃圾收集的时候，每次复制一个对象后，将增加这个对象的收集计数，当一个对象在新生代中被复制了一定次数后，该算法即判定该对象是长周期的对象，把他移动到老生代，这个阈值叫着 tenuring threshold。这个阈值用于表示某个/些在执行批定次数 youngGC 后还活着的对象，即使此时新生的的 Survior 没有满，也同样被认为是长周期对象，将会被移到老生代中。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("MTT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Maximum tenuring threshold，用于表示 TT 的最大值。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("DSS")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Desired survivor size (KB).可以参与这里：http://blog.csdn.net/yangjun2/article/details/6542357")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("EC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Eden space 当前容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("EU")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Eden space 已经使用的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("YGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Young GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("YGCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时 Young GC 所用的时间(单位秒)")])])])]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("-gcnewcapacity")]),t._v("：新生代的存储容量情况")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("NGCMN")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("新生代的最小容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("NGCMX")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("新生代的最大容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("NGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前新生代的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S0CMX")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("新生代中 SO 的最大容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S0C")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前新生代中 SO 的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S1CMX")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("新生代中 S1 的最大容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S1C")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前新生代中 S1 的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("ECMX")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("新生代中 Eden 的最大容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("EC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前新生代中 Eden 的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("YGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Young GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Full GC 的次数")])])])]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("-gcold")]),t._v("：老生代及持久代发生 GC 的情况")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("PC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前持久代容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("PU")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("持久代使用容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前老年代容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OU")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("老年代使用容量的大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("YGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Young GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Full GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时 Full GC 所用的时间(单位秒)")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("GCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时用于垃圾回收的总时间(单位秒)，它的值等于 YGC+FGC")])])])]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("-gcoldcapacity")]),t._v("： 老生代的存储容量情况")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OGCMN")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("老生代的最小容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OGCMX")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("老生代的最大容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前老生代的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("OC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前新生代的空间容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("YGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Young GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Full GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时 Full GC 所用的时间(单位秒)")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("GCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时用于垃圾回收的总时间(单位秒)，它的值等于 YGC+FGC")])])])]),t._v(" "),n("ul",[n("li",[n("p",[n("strong",[t._v("-gcpermcapacity")]),t._v("： 持久代的存储容量情况")]),t._v(" "),n("p",[t._v("从应用程序启动到采样时发生 Full GC 的次数")])])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("PGCMN")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("持久代的最小容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("PGCMX")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("持久代的最大容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("PGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前持久代的容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("PC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("当前持久代的空间容量大小（KB）")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("YGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Young GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时 Full GC 所用的时间(单位秒)")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("GCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时用于垃圾回收的总时间(单位秒)，它的值等于 YGC+FGC")])])])]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("-gcutil")]),t._v("：新生代、老生代及持代垃圾收集的情况")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S0")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Heap 上的 Survivor space 0 区已使用空间的百分比")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("S1")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Heap 上的 Survivor space 1 区已使用空间的百分比")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("E")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Heap 上的 Eden space 区已使用空间的百分比")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("O")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Heap 上的 Old space 区已使用空间的百分比")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("M")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("元空间利用率占空间当前容量的百分比。")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("YGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Young GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("YGCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时 Young GC 所用的时间(单位秒)")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGC")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时发生 Full GC 的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("FGCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时 Full GC 所用的时间(单位秒)")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("GCT")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("从应用程序启动到采样时用于垃圾回收的总时间(单位秒)，它的值等于 YGC+FGC")])])])]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("-printcompilation")]),t._v("： HotSpot 编译方法的统计")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("列名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Compiled")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("编译任务执行的次数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Size")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("方法的字节码所占的字节数")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("编译类型")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Method")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("指定确定被编译方法的类名及方法名，类名中使名“/”而不是“.”做为命名分隔符，方法名是被指定的类中的方法，这两个字段的格式是由 HotSpot 中的“-"),n("strong",[t._v("XX:+PrintComplation")]),t._v("”选项确定的。")])])])]),t._v(" "),n("p",[t._v("（3）示例")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ jstat -gcutil "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8368")]),t._v("\n  S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.00")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.50")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("27.48")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("40.87")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("98.43")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("97.68")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("297")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.930")]),t._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.187")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.117")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 每个100秒打印堆中垃圾收集情况,打印 10 次")]),t._v("\n$ jstat -gc "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8368")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("637.5")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("70016.0")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("33414.7")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("174784.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71446.8")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("85464.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("84121.9")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10240.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10001.9")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("301")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.969")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.187")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.156")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("637.5")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("70016.0")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("33414.7")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("174784.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71446.8")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("85464.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("84121.9")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10240.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10001.9")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("301")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.969")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.187")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.156")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("637.5")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("70016.0")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("33414.7")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("174784.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71446.8")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("85464.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("84121.9")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10240.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10001.9")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("301")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.969")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.187")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.156")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("637.5")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("70016.0")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("33414.7")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("174784.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71446.8")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("85464.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("84121.9")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10240.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10001.9")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("301")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.969")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.187")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.156")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("637.5")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("70016.0")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("33416.7")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("174784.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71446.8")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("85464.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("84121.9")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10240.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10001.9")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("301")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.969")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.187")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.156")]),t._v("\n\n\n$ jstat -gc "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8368")]),t._v("\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8704.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("601.2")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("70016.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9267.2")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("174784.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71445.0")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("85464.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("84121.9")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10240.0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10001.9")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.962")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.187")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.148")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br")])]),n("h3",{attrs:{id:"_3-jinfo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-jinfo"}},[t._v("#")]),t._v(" 3.jinfo")]),t._v(" "),n("blockquote",[n("p",[t._v("参见官网 "),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jinfo.html#BCGEBFDD",target:"_blank",rel:"noopener noreferrer"}},[t._v("jinfo_java8"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("可查看和设置 JVM 配置信息。")]),t._v(" "),n("p",[t._v("（1）命令格式")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("jinfo "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" option "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" pid\n\njinfo "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" option "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" executable core\n\njinfo "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" option "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" servier-id "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" remote-hostname-or-IP\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("p",[t._v("（2）示例")]),t._v(" "),n("p",[t._v("此命令用法简单，暂时只看几个示例")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 查看某个JVM参数的配置")]),t._v("\n$ jinfo -flag MaxHeapSize "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8368")]),t._v("\n-XX:MaxHeapSize"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4278190080")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 设置某个JVM参数的值")]),t._v("\n$ jinfo -flag "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MaxHeapSize")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5278190080")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8368")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 查看全部JVM启动参数或系统变量的配置")]),t._v("\n$ jinfo "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8368")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("h3",{attrs:{id:"_4-jmap"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-jmap"}},[t._v("#")]),t._v(" 4.jmap")]),t._v(" "),n("blockquote",[n("p",[t._v("参见官方文档 "),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jmap.html#CEGCECJB",target:"_blank",rel:"noopener noreferrer"}},[t._v("jmap_java8"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("Java 内存映像工具，可以使用 jmap 查看内存中的对象数量及内存空间占用：")]),t._v(" "),n("p",[t._v("（1）命令格式")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("jmap "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" options "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" pid\n\njmap "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" options "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" executable core\n\njmap "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" options "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" pid "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" server-id@ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" remote-hostname-or-IP\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("p",[t._v("options：")]),t._v(" "),n("blockquote",[n("ul",[n("li",[n("code",[t._v("<no option>")]),t._v("：如果不使用任何选项，则 jmap 命令将打印共享对象映射。 对于目标 JVM 中加载的每个共享库，将打印共享库文件的开始地址，映射大小和完整路径。")]),t._v(" "),n("li",[n("code",[t._v("-heap")]),t._v("：打印堆的配置信息，堆各分代的内存情况")]),t._v(" "),n("li",[n("code",[t._v("-histo[:live]")]),t._v("：打印堆的直方图。 对于每个 Java 类，都将打印对象数，以字节为单位的内存大小以及完全限定的类名。 JVM 内部类名称打印有星号（*）前缀。 如果指定了 live 子选项，则仅对活动对象进行计数。")]),t._v(" "),n("li",[n("code",[t._v("-dump:[live,] format=b, file=filename")]),t._v("：将 Java 堆转储到 hprof 格式的二进制文件中。如果指定了可选的 live 子选项，则仅转储堆中的活动对象。要浏览堆转储，可以使用 jhat 命令来读取堆转储文件。")])])]),t._v(" "),n("p",[t._v("（2）示例")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 1.查看堆内存配置及占用情况")]),t._v("\n$ jmap -heap "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8368")]),t._v("\nAttaching to process ID "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8368")]),t._v(", please wait"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nWARNING: Hotspot VM version "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("25.71")]),t._v("-b01-dcevmlight-26 does not match with SA version "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("25.181")]),t._v("-b13. You may see unexpected results.\nDebugger attached successfully.\nServer compiler detected.\nJVM version is "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("25.71")]),t._v("-b01-dcevmlight-26\n\nusing thread-local object allocation.\nMark Sweep Compact GC\n\nHeap Configuration:\n   MinHeapFreeRatio         "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v("\n   MaxHeapFreeRatio         "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("70")]),t._v("\n   MaxHeapSize              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4278190080")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4080")]),t._v(".0MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   NewSize                  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("89456640")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("85")]),t._v(".3125MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   MaxNewSize               "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1426063360")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1360")]),t._v(".0MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   OldSize                  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("178978816")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("170")]),t._v(".6875MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   NewRatio                 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n   SurvivorRatio            "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n   MetaspaceSize            "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("21807104")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(".796875MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   CompressedClassSpaceSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1073741824")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(".0MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   MaxMetaspaceSize         "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("17592186044415")]),t._v(" MB\n   G1HeapRegionSize         "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".0MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nHeap Usage:\nNew Generation "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Eden + "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" Survivor Space"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n   capacity "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("80609280")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("76")]),t._v(".875MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   used     "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("65884512")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("62")]),t._v(".832366943359375MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v("     "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14724768")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(".042633056640625MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("81.7331602515244")]),t._v("% used\nEden Space:\n   capacity "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71696384")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("68")]),t._v(".375MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   used     "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("64944720")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("61")]),t._v(".93611145019531MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v("     "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6751664")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(".4388885498046875MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("90.58297835494744")]),t._v("% used\nFrom Space:\n   capacity "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8912896")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(".5MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   used     "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("939792")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".8962554931640625MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v("     "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7973104")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(".6037445068359375MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.544182272518382")]),t._v("% used\nTo Space:\n   capacity "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8912896")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(".5MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   used     "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".0MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v("     "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8912896")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(".5MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v("% used\ntenured generation:\n   capacity "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("178978816")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("170")]),t._v(".6875MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   used     "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("57622840")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("54")]),t._v(".95342254638672MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v("     "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("121355976")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("115")]),t._v(".73407745361328MB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("32.19534092794535")]),t._v("% used\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("29343")]),t._v(" interned Strings occupying "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3477648")]),t._v(" bytes.\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 2.打印堆的直方图")]),t._v("\n$ jmap -histo:live "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8368")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("head")]),t._v(" -20\n\n num     "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#instances         #bytes  class name")]),t._v("\n----------------------------------------------\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(":          "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2332")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("27377816")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("B\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(":         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("86691")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11906496")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("C\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(":         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15551")]),t._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2320904")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Ljava.lang.Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(":         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("84932")]),t._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2038368")]),t._v("  java.lang.String\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(":          "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7070")]),t._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1860064")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("I\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(":         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15124")]),t._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1686600")]),t._v("  java.lang.Class\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(":         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("42697")]),t._v("        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1366304")]),t._v("  java.util.concurrent.ConcurrentHashMap"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Node")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(":         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10507")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("924616")]),t._v("  java.lang.reflect.Method\n   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(":         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19729")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("631328")]),t._v("  java.util.HashMap"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Node")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(":          "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5983")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("499968")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Ljava.util.HashMap"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Node")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(":         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11158")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("446320")]),t._v("  java.util.LinkedHashMap"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Entry")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(":         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24496")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("391936")]),t._v("  java.lang.Object\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(":           "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("362728")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Ljava.util.concurrent.ConcurrentHashMap"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Node")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":          "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5236")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("293216")]),t._v("  java.util.LinkedHashMap\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":          "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6539")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("209248")]),t._v("  java.lang.ref.WeakReference\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(":          "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9579")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("207760")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Ljava.lang.Class"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(":          "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3442")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("165216")]),t._v("  java.util.HashMap\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 3.导出堆转储快照")]),t._v("\n$ jmap -dump:live,format"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("b,file"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("./dump.hprof "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8368")]),t._v("\nDumping heap to C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ray"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("mess"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("dump.hprof "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nHeap dump "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" created\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br"),n("span",{staticClass:"line-number"},[t._v("47")]),n("br"),n("span",{staticClass:"line-number"},[t._v("48")]),n("br"),n("span",{staticClass:"line-number"},[t._v("49")]),n("br"),n("span",{staticClass:"line-number"},[t._v("50")]),n("br"),n("span",{staticClass:"line-number"},[t._v("51")]),n("br"),n("span",{staticClass:"line-number"},[t._v("52")]),n("br"),n("span",{staticClass:"line-number"},[t._v("53")]),n("br"),n("span",{staticClass:"line-number"},[t._v("54")]),n("br"),n("span",{staticClass:"line-number"},[t._v("55")]),n("br"),n("span",{staticClass:"line-number"},[t._v("56")]),n("br"),n("span",{staticClass:"line-number"},[t._v("57")]),n("br"),n("span",{staticClass:"line-number"},[t._v("58")]),n("br"),n("span",{staticClass:"line-number"},[t._v("59")]),n("br"),n("span",{staticClass:"line-number"},[t._v("60")]),n("br"),n("span",{staticClass:"line-number"},[t._v("61")]),n("br"),n("span",{staticClass:"line-number"},[t._v("62")]),n("br"),n("span",{staticClass:"line-number"},[t._v("63")]),n("br"),n("span",{staticClass:"line-number"},[t._v("64")]),n("br"),n("span",{staticClass:"line-number"},[t._v("65")]),n("br"),n("span",{staticClass:"line-number"},[t._v("66")]),n("br"),n("span",{staticClass:"line-number"},[t._v("67")]),n("br"),n("span",{staticClass:"line-number"},[t._v("68")]),n("br"),n("span",{staticClass:"line-number"},[t._v("69")]),n("br"),n("span",{staticClass:"line-number"},[t._v("70")]),n("br"),n("span",{staticClass:"line-number"},[t._v("71")]),n("br"),n("span",{staticClass:"line-number"},[t._v("72")]),n("br"),n("span",{staticClass:"line-number"},[t._v("73")]),n("br"),n("span",{staticClass:"line-number"},[t._v("74")]),n("br"),n("span",{staticClass:"line-number"},[t._v("75")]),n("br"),n("span",{staticClass:"line-number"},[t._v("76")]),n("br"),n("span",{staticClass:"line-number"},[t._v("77")]),n("br"),n("span",{staticClass:"line-number"},[t._v("78")]),n("br"),n("span",{staticClass:"line-number"},[t._v("79")]),n("br"),n("span",{staticClass:"line-number"},[t._v("80")]),n("br"),n("span",{staticClass:"line-number"},[t._v("81")]),n("br"),n("span",{staticClass:"line-number"},[t._v("82")]),n("br"),n("span",{staticClass:"line-number"},[t._v("83")]),n("br")])]),n("h3",{attrs:{id:"_5-jhat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-jhat"}},[t._v("#")]),t._v(" 5.jhat")]),t._v(" "),n("p",[t._v("分析 jmap 生成的快照文件")]),t._v(" "),n("p",[t._v("（1）示例：")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ jhat dump.hprof\nReading from dump.hprof"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nDump "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" created Wed Jan "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(":57:27 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("\nSnapshot read, resolving"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nResolving "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("521526")]),t._v(" objects"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nChasing references, "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("104")]),t._v(" dots"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\nEliminating duplicate references"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\nSnapshot resolved.\nStarted HTTP server on port "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7000")]),t._v("\nServer is ready.\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("p",[t._v("Server 启动后，在浏览器打开 http://localhost:7000/，可以看到如下信息：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(787),alt:"图片"}})]),t._v(" "),n("blockquote",[n("p",[t._v("实际工作中，一般不会直接使用 jhat 命令来分析 dump 文件，主要原因：")]),t._v(" "),n("ol",[n("li",[t._v("一般不会在部署应用程序的服务器上直接分析 dump 文件（分析工作一般比较耗时，而且消耗硬件资源，在其他机器上进行时则没必要受到命令行工具的限制）；")]),t._v(" "),n("li",[t._v("jhat 分析功能相对简陋，VisualVM 等更工具功能强大。")])])]),t._v(" "),n("h3",{attrs:{id:"_6-jstack"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-jstack"}},[t._v("#")]),t._v(" 6.jstack")]),t._v(" "),n("p",[t._v("参见官方文档 "),n("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstack.html#BABGJDIF",target:"_blank",rel:"noopener noreferrer"}},[t._v("jstack_java8"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("Java 堆栈跟踪工具")]),t._v(" "),n("blockquote",[n("ul",[n("li",[t._v("jstack (Stack Trace for Java) 命令用于生成虚拟机当前时刻的线程快照（一般称为 threaddump 或 javacore 文件）")]),t._v(" "),n("li",[t._v("线程快照就是当前虚拟机内每一条线程正在执行的方法堆栈的集合，生成堆栈快照的主要目的是定位线程出现长时间停顿的原因，如线程死锁、死循环、请求外部资源导致的长时间等待等都是导致线程长时间停顿的常见原因")])])]),t._v(" "),n("p",[t._v("示例：")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ jstack -l "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8368")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("head")]),t._v(" -20\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-01-20 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":34:14\nFull thread dump Dynamic Code Evolution "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v("-Bit Server VM "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("25.71")]),t._v("-b01-dcevmlight-26 mixed mode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n\n"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Keep-Alive-Timer"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#517 daemon prio=8 os_prio=1 tid=0x000000001b453000 nid=0x2fb0 waiting on condition [0x0000000044a0e000]")]),t._v("\n   java.lang.Thread.State: TIMED_WAITING "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sleeping"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java.lang.Thread.sleep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Native Method"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at sun.net.www.http.KeepAliveCache.run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("KeepAliveCache.java:172"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java.lang.Thread.run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Thread.java:748"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n   Locked ownable synchronizers:\n        - None\n\n"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dredis-clusterFactory-dispatcher-thread-8"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#157 daemon prio=5 os_prio=0 tid=0x000000001b450000 nid=0x2210 waiting on condition [0x0000000029c0e000]")]),t._v("\n   java.lang.Thread.State: WAITING "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parking"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at sun.misc.Unsafe.park"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Native Method"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        - parking to "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("0x0000000718e6f60"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("8")]),t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a java.util.concurrent.locks.AbstractQueuedSynchronizer"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ConditionObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java.util.concurrent.locks.LockSupport.park"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LockSupport.java:175"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ConditionObject")]),t._v(".await"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AbstractQueuedSynchronizer.java:2039"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java.util.concurrent.LinkedBlockingQueue.take"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LinkedBlockingQueue.java:442"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        at java.util.concurrent.ThreadPoolExecutor.getTask"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ThreadPoolExecutor.java:1074"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br")])]),n("h2",{attrs:{id:"二、linux-命令行工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、linux-命令行工具"}},[t._v("#")]),t._v(" 二、Linux 命令行工具")]),t._v(" "),n("h2",{attrs:{id:"三、可视化工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、可视化工具"}},[t._v("#")]),t._v(" 三、可视化工具")]),t._v(" "),n("h3",{attrs:{id:"_1-jvisualvm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-jvisualvm"}},[t._v("#")]),t._v(" 1. jvisualvm")]),t._v(" "),n("p",[t._v("VisualVM 是一个 JVM 监控工具，也是一体化 Java 故障排除工具，能够监控线程、内存、CPU、GC 等情况，支持堆转储快照分析，并且可以根据需要安装不同的插件以扩展相应的功能。")]),t._v(" "),n("blockquote",[n("ul",[n("li",[n("p",[t._v("jvisualvm 是 JDK 自带的命令，虽然后面独立发展了。这两种方式都可以使用。")])]),t._v(" "),n("li",[n("p",[t._v("VisualVM 链接：https://visualvm.github.io/")])])])]),t._v(" "),n("p",[t._v("（1）概述、监视、线程页")]),t._v(" "),n("p",[t._v("打开 VisualVM 后，会在左侧栏列出本地，正在运行的进程的 pid 和名称，选择一个后会打开应用程序的概述页面：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(788),alt:"image-20210120200614678"}})]),t._v(" "),n("p",[t._v("在监视页面能看到 CPU、内存、线程、类的使用情况")]),t._v(" "),n("p",[n("img",{attrs:{src:a(789),alt:"image-20210120200802306"}})]),t._v(" "),n("p",[t._v("在线程页面，可以看到所有线程的运行情况")]),t._v(" "),n("p",[n("img",{attrs:{src:a(790),alt:"image-20210120200948723"}})]),t._v(" "),n("p",[t._v("（2）安装插件来扩展功能")]),t._v(" "),n("p",[t._v("通过 "),n("code",[t._v("工具")]),t._v(" -> "),n("code",[t._v("插件")]),t._v(" -> "),n("code",[t._v("可用插件")]),t._v(" -> "),n("code",[t._v("勾选目标插件")]),t._v(" -> "),n("code",[t._v("安装")]),t._v(" 的方式来安装需要的插件，可扩展 VisualVM 的功能，比如安装 VisualVM GC 之后，Tab 页会出现 Visual GC 页面，打开后可显示各分代的的内存使用情况：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(791),alt:"image-20210120201514501"}})]),t._v(" "),n("p",[t._v("（3）dump 文件分析")]),t._v(" "),n("p",[t._v("通过 "),n("code",[t._v("文件")]),t._v(" -> "),n("code",[t._v("装入")]),t._v(" -> "),n("code",[t._v("然后选择前面通过 jmap 导出的dump文件")]),t._v(" ，即可对 dump 文件进行分析")]),t._v(" "),n("p",[t._v("在概要页可查看 dump 文件的基本信息、jvm 参数与系统变量、线程运行情况")]),t._v(" "),n("p",[n("img",{attrs:{src:a(792),alt:"image-20210120201903406"}})]),t._v(" "),n("p",[t._v("在类的 Tab 页，可以查看类的相关信息")]),t._v(" "),n("p",[n("img",{attrs:{src:a(793),alt:"image-20210120202455490"}})]),t._v(" "),n("h3",{attrs:{id:"_2-mat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-mat"}},[t._v("#")]),t._v(" 2.MAT")]),t._v(" "),n("h2",{attrs:{id:"四、arthas"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四、arthas"}},[t._v("#")]),t._v(" 四、Arthas")]),t._v(" "),n("blockquote",[n("ul",[n("li",[t._v("官方文档：https://alibaba.github.io/arthas/")]),t._v(" "),n("li",[t._v("阿里云在线教程："),n("a",{attrs:{href:"https://start.aliyun.com/handson-lab/#!category=arthas",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://start.aliyun.com/handson-lab/#%21category=arthas"),n("OutboundLink")],1)])])]),t._v(" "),n("h3",{attrs:{id:"_1-下载-arthas"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载-arthas"}},[t._v("#")]),t._v(" 1.下载 Arthas")]),t._v(" "),n("p",[t._v("打开 Athas Github 的版本发布页，选择 "),n("code",[t._v("arthas-bin.zip")]),t._v("进行下载")]),t._v(" "),n("blockquote",[n("p",[t._v("https://github.com/alibaba/arthas/releases")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(794),alt:"image-20210121142308097"}})]),t._v(" "),n("p",[t._v("解压后目录如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(795),alt:"image-20210121142643513"}})]),t._v(" "),n("p",[t._v("注意：")]),t._v(" "),n("blockquote",[n("p",[t._v("也可通过 curl 直接下载 "),n("code",[t._v("arthas-demo.jar")]),t._v("、"),n("code",[t._v("arthas-boot.jar")])]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -O https://arthas.aliyun.com/arthas-demo.jar\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -O https://arthas.aliyun.com/arthas-boot.jar\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])])]),t._v(" "),n("h3",{attrs:{id:"_2-启动-demo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-启动-demo"}},[t._v("#")]),t._v(" 2.启动 Demo")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("java -jar arthas-demo.jar\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[n("code",[t._v("arthas-demo")]),t._v("是一个简单的程序，每隔一秒生成一个随机数，再执行质因数分解，并打印出分解结果。")]),t._v(" "),n("p",[t._v("源码如下：")]),t._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("demo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MathGame")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Random")]),t._v(" random "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" illegalArgumentCount "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MathGame")]),t._v(" game "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MathGame")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            game"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SECONDS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InterruptedException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" number "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" random"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextInt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" primeFactors "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("primeFactors")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" primeFactors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"illegalArgumentCount:%3d, "')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" illegalArgumentCount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" primeFactors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringBuffer")]),t._v(" sb "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringBuffer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"="')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" factor "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" primeFactors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            sb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("factor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("charAt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("length")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            sb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteCharAt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("length")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("primeFactors")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            illegalArgumentCount"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IllegalArgumentException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number is: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" number "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('", need >= 2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                number "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" number "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br"),n("span",{staticClass:"line-number"},[t._v("47")]),n("br"),n("span",{staticClass:"line-number"},[t._v("48")]),n("br"),n("span",{staticClass:"line-number"},[t._v("49")]),n("br"),n("span",{staticClass:"line-number"},[t._v("50")]),n("br"),n("span",{staticClass:"line-number"},[t._v("51")]),n("br"),n("span",{staticClass:"line-number"},[t._v("52")]),n("br"),n("span",{staticClass:"line-number"},[t._v("53")]),n("br"),n("span",{staticClass:"line-number"},[t._v("54")]),n("br"),n("span",{staticClass:"line-number"},[t._v("55")]),n("br"),n("span",{staticClass:"line-number"},[t._v("56")]),n("br"),n("span",{staticClass:"line-number"},[t._v("57")]),n("br"),n("span",{staticClass:"line-number"},[t._v("58")]),n("br"),n("span",{staticClass:"line-number"},[t._v("59")]),n("br"),n("span",{staticClass:"line-number"},[t._v("60")]),n("br"),n("span",{staticClass:"line-number"},[t._v("61")]),n("br"),n("span",{staticClass:"line-number"},[t._v("62")]),n("br"),n("span",{staticClass:"line-number"},[t._v("63")]),n("br")])]),n("h3",{attrs:{id:"_3-启动-arthas"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动-arthas"}},[t._v("#")]),t._v(" 3.启动 Arthas")]),t._v(" "),n("p",[t._v("启动 Arthas")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ $ java -jar arthas-boot.jar\n* "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("35542")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71560")]),t._v(" arthas-demo.jar\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[t._v("接着输入 2 然后回车，arthas 就会 attach 到目标进程上，并输出日志：")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Try to attach process "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71560")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Attach process "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71560")]),t._v(" success.\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" arthas-client connect "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3658")]),t._v("\n  ,---.  ,------. ,--------.,--.  ,--.  ,---.   ,---.\n /  O  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  .--. "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("--.  .--"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'|  '")]),t._v("--"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'  | /  O  \\ '")]),t._v("   .-"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\n|  .-.  ||  '")]),t._v("--"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  .--.  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("  .-.  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("-.\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(".-"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'    |\n"),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("--' "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("--'")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("--"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v("--'   "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("--"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'   "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("--'  "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("--'")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("--' "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("--'`-----'\n\nwiki: https://arthas.aliyun.com/doc\nversion: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.0")]),t._v(".5.20181127201536\npid: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("71560")]),t._v("\ntime: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-11-28 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":16:24\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br")])]),n("h3",{attrs:{id:"_4-dashboard"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-dashboard"}},[t._v("#")]),t._v(" 4.dashboard")]),t._v(" "),n("p",[t._v("输入"),n("a",{attrs:{href:"https://arthas.aliyun.com/doc/dashboard.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("dashboard"),n("OutboundLink")],1),t._v("，按"),n("code",[t._v("回车/enter")]),t._v("，会展示当前进程的信息，按"),n("code",[t._v("ctrl+c")]),t._v("可以中断执行。")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ dashboard\nID     NAME                   GROUP          PRIORI STATE  %CPU    TIME   INTERRU DAEMON\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v("     pool-2-thread-1        system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("      WAITIN "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("67")]),t._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v("     Timer-for-arthas-dashb system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("     RUNNAB "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("     AsyncAppender-Worker-a system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("      WAITIN "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("      Attach Listener        system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("      RUNNAB "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("      Finalizer              system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("      WAITIN "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("      Reference Handler      system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("     WAITIN "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("      Signal Dispatcher      system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("      RUNNAB "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v("     as-command-execute-dae system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("     TIMED_ "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v("     job-timeout            system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("      TIMED_ "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("      main                   main           "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("      TIMED_ "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v("     nioEventLoopGroup-2-1  system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("     RUNNAB "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("     nioEventLoopGroup-2-2  system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("     RUNNAB "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v("     nioEventLoopGroup-2-3  system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("     RUNNAB "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("     nioEventLoopGroup-3-1  system         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("     RUNNAB "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0    "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\nMemory             used   total max    usage GC\nheap               32M    155M  1820M  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.77")]),t._v("% gc.ps_scavenge.count  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\nps_eden_space      14M    65M   672M   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.21")]),t._v("% gc.ps_scavenge.time"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("166")]),t._v("\nps_survivor_space  4M     5M    5M           s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nps_old_gen         12M    85M   1365M  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.91")]),t._v("% gc.ps_marksweep.count "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nnonheap            20M    23M   -1           gc.ps_marksweep.time"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\ncode_cache         3M     5M    240M   "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.32")]),t._v("% ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nRuntime\nos.name                Mac OS X\nos.version             "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.13")]),t._v(".4\njava.version           "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.8")]),t._v(".0_162\njava.home              /Library/Java/JavaVir\n                       tualMachines/jdk1.8.0\n                       _162.jdk/Contents/Hom\n                       e/jre\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br")])]),n("h3",{attrs:{id:"_5-thread"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-thread"}},[t._v("#")]),t._v(" 5.thread")]),t._v(" "),n("p",[n("code",[t._v("thread 1")]),t._v("会打印线程 ID 1 的栈，通常是 main 函数的线程。")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ thread "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'main('")]),t._v("\n    at demo.MathGame.main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MathGame.java:17"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("h3",{attrs:{id:"_6-jad"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-jad"}},[t._v("#")]),t._v(" 6.jad")]),t._v(" "),n("p",[t._v("通过 jad 可反编译 Class")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ jad demo.MathGame\n\nClassLoader:\n+-sun.misc.Launcher"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$AppClassLoader")]),t._v("@3d4eac69\n  +-sun.misc.Launcher"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ExtClassLoader")]),t._v("@66350f69\n\nLocation:\n/tmp/arthas-demo.jar\n\n/*\n * Decompiled with CFR 0_132.\n */\npackage demo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" java.io.PrintStream"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" java.util.ArrayList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" java.util.Iterator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" java.util.List"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" java.util.Random"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" java.util.concurrent.TimeUnit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\npublic class MathGame "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    private static Random random "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new Random"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    private int illegalArgumentCount "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    public static void main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" throws InterruptedException "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        MathGame game "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new MathGame"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            game.run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            TimeUnit."),n("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("SECONDS")]),t._v(".sleep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("1L"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("true"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    public void run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" throws InterruptedException "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        try "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            int number "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" random.nextInt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            List"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Integer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" primeFactors "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.primeFactors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            MathGame.print"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number, primeFactors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        catch "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Exception e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            System.out.println"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String.format"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"illegalArgumentCount:%3d, "')]),t._v(", this.illegalArgumentCount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" + e.getMessage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    public static void print"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("int number, List"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Integer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" primeFactors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        StringBuffer sb "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new StringBuffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" + number + "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"="')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        Iterator"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Integer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" iterator "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" primeFactors.iterator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("iterator.hasNext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            int factor "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" iterator.next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            sb.append"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("factor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".append"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sb.charAt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sb.length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            sb.deleteCharAt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sb.length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" - "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        System.out.println"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    public List"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Integer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" primeFactors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("int number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            ++this.illegalArgumentCount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            throw new IllegalArgumentException"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number is: "')]),t._v(" + number + "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('", need >= 2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        ArrayList"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Integer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new ArrayList"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Integer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        int i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number % i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                result.add"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                number /"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("continue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            ++i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nAffect"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("row-cnt:1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" cost "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("970")]),t._v(" ms.\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br"),n("span",{staticClass:"line-number"},[t._v("46")]),n("br"),n("span",{staticClass:"line-number"},[t._v("47")]),n("br"),n("span",{staticClass:"line-number"},[t._v("48")]),n("br"),n("span",{staticClass:"line-number"},[t._v("49")]),n("br"),n("span",{staticClass:"line-number"},[t._v("50")]),n("br"),n("span",{staticClass:"line-number"},[t._v("51")]),n("br"),n("span",{staticClass:"line-number"},[t._v("52")]),n("br"),n("span",{staticClass:"line-number"},[t._v("53")]),n("br"),n("span",{staticClass:"line-number"},[t._v("54")]),n("br"),n("span",{staticClass:"line-number"},[t._v("55")]),n("br"),n("span",{staticClass:"line-number"},[t._v("56")]),n("br"),n("span",{staticClass:"line-number"},[t._v("57")]),n("br"),n("span",{staticClass:"line-number"},[t._v("58")]),n("br"),n("span",{staticClass:"line-number"},[t._v("59")]),n("br"),n("span",{staticClass:"line-number"},[t._v("60")]),n("br"),n("span",{staticClass:"line-number"},[t._v("61")]),n("br"),n("span",{staticClass:"line-number"},[t._v("62")]),n("br"),n("span",{staticClass:"line-number"},[t._v("63")]),n("br"),n("span",{staticClass:"line-number"},[t._v("64")]),n("br"),n("span",{staticClass:"line-number"},[t._v("65")]),n("br"),n("span",{staticClass:"line-number"},[t._v("66")]),n("br"),n("span",{staticClass:"line-number"},[t._v("67")]),n("br"),n("span",{staticClass:"line-number"},[t._v("68")]),n("br"),n("span",{staticClass:"line-number"},[t._v("69")]),n("br"),n("span",{staticClass:"line-number"},[t._v("70")]),n("br"),n("span",{staticClass:"line-number"},[t._v("71")]),n("br"),n("span",{staticClass:"line-number"},[t._v("72")]),n("br"),n("span",{staticClass:"line-number"},[t._v("73")]),n("br"),n("span",{staticClass:"line-number"},[t._v("74")]),n("br"),n("span",{staticClass:"line-number"},[t._v("75")]),n("br"),n("span",{staticClass:"line-number"},[t._v("76")]),n("br"),n("span",{staticClass:"line-number"},[t._v("77")]),n("br"),n("span",{staticClass:"line-number"},[t._v("78")]),n("br")])]),n("h3",{attrs:{id:"_7-watch"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-watch"}},[t._v("#")]),t._v(" 7.watch")]),t._v(" "),n("p",[t._v("通过"),n("a",{attrs:{href:"https://arthas.aliyun.com/doc/watch.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("watch"),n("OutboundLink")],1),t._v("命令来查看"),n("code",[t._v("demo.MathGame#primeFactors")]),t._v("函数的返回值：")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),t._v(" demo.MathGame primeFactors returnObj\nPress Ctrl+C to abort.\nAffect"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("class-cnt:1 , method-cnt:1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" cost "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("107")]),t._v(" ms.\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ts")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-11-28 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":22:30"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cost"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".715367ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("result")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("null\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ts")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-11-28 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":22:31"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cost"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".185203ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("result")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("null\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ts")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-11-28 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":22:32"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cost"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(".012416ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("result")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("@ArrayList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("47")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2675531")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ts")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-11-28 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":22:33"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cost"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".311395ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("result")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("@ArrayList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("317")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("503")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("887")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ts")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-11-28 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":22:34"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cost"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(".136007ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("result")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("@ArrayList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("717593")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ts")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v("-11-28 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":22:35"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cost"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),t._v(".969732ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("result")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("@ArrayList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    @Integer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7651739")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br")])]),n("h3",{attrs:{id:"_8-退出-arthas"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-退出-arthas"}},[t._v("#")]),t._v(" 8.退出 arthas")]),t._v(" "),n("p",[t._v("如果只是退出当前的连接，可以用"),n("code",[t._v("quit")]),t._v("或者"),n("code",[t._v("exit")]),t._v("命令。Attach 到目标进程上的 arthas 还会继续运行，端口会保持开放，下次连接时可以直接连接上。")]),t._v(" "),n("p",[t._v("如果想完全退出 arthas，可以执行"),n("code",[t._v("stop")]),t._v("命令。")])])}),[],!1,null,null,null);s.default=e.exports},787:function(t,s,a){t.exports=a.p+"assets/img/640.50cc17e8.png"},788:function(t,s,a){t.exports=a.p+"assets/img/image-20210120200614678.cce60d3a.png"},789:function(t,s,a){t.exports=a.p+"assets/img/image-20210120200802306.489ca0e7.png"},790:function(t,s,a){t.exports=a.p+"assets/img/image-20210120200948723.387bdc97.png"},791:function(t,s,a){t.exports=a.p+"assets/img/image-20210120201514501.5f152992.png"},792:function(t,s,a){t.exports=a.p+"assets/img/image-20210120201903406.ce709657.png"},793:function(t,s,a){t.exports=a.p+"assets/img/image-20210120202455490.48808545.png"},794:function(t,s,a){t.exports=a.p+"assets/img/image-20210121142308097.febaccca.png"},795:function(t,s,a){t.exports=a.p+"assets/img/image-20210121142643513.cd83afd3.png"}}]);