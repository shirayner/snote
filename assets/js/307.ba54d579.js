(window.webpackJsonp=window.webpackJsonp||[]).push([[307],{1390:function(r,t,e){"use strict";e.r(t);var n=e(4),s=Object(n.a)({},(function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[e("p",[r._v("[TOC]")]),r._v(" "),e("h1",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[r._v("#")]),r._v(" 前言")]),r._v(" "),e("p",[r._v("在分析SpringSecurity之前，我们先来搭建一下调试环境，具体过程参见：")]),r._v(" "),e("blockquote",[e("p",[e("RouterLink",{attrs:{to:"/cs/backend/spring/spring-boot/SpringBoot_11_Security_01_整合SpringSecurity.html"}},[r._v("SpringBoot_11_Security_01_整合SpringSecurity.md")])],1)]),r._v(" "),e("h1",{attrs:{id:"一、spring-security-简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、spring-security-简介"}},[r._v("#")]),r._v(" 一、Spring Security 简介")]),r._v(" "),e("h2",{attrs:{id:"_1-什么是spring-security"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是spring-security"}},[r._v("#")]),r._v(" 1.什么是Spring Security")]),r._v(" "),e("p",[r._v("Spring Security 是一个能够为基于Spring的企业应用系统提供安全访问控制解决方案的安全框架。")]),r._v(" "),e("p",[r._v("Spring Security 安全框架除了包含基本的"),e("strong",[r._v("认证")]),r._v("和"),e("strong",[r._v("授权")]),r._v("功能外，还提供了"),e("strong",[r._v("加解密")]),r._v("、"),e("strong",[r._v("统一登录")]),r._v("等一系列支持。")]),r._v(" "),e("blockquote",[e("ul",[e("li",[e("strong",[r._v("认证")]),r._v("（"),e("code",[r._v("Authentication")]),r._v("）：确认用户可以访问当前系统")]),r._v(" "),e("li",[e("strong",[r._v("授权")]),r._v("（"),e("code",[r._v("Authorization")]),r._v("）：确定用户在当前系统中是否能够执行某个操作，即用户所拥有的功能权限")])])]),r._v(" "),e("h2",{attrs:{id:"_2-常用安全框架的比较"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-常用安全框架的比较"}},[r._v("#")]),r._v(" 2.常用安全框架的比较")]),r._v(" "),e("h1",{attrs:{id:"二、spring-security-原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、spring-security-原理"}},[r._v("#")]),r._v(" 二、Spring Security 原理")]),r._v(" "),e("h2",{attrs:{id:"_1-基于servlet过滤器-filter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-基于servlet过滤器-filter"}},[r._v("#")]),r._v(" 1.基于Servlet过滤器（Filter）")]),r._v(" "),e("p",[r._v("在 Java Web 工程中， 一般"),e("strong",[r._v("使用 Servlet 过滤器（ Filter）对请求进行拦截")]),r._v("，然后在Filter 中通过自己的验证逻辑来决定是否放行请求。同样地，Spring Security 也是基于这个原理，"),e("strong",[r._v("在进入DispatcherServlet 前")]),r._v("就可以对Spring MVC 的请求进行拦截，然后通过一定的验证，从而决定是否放行请求访问系统。")]),r._v(" "),e("p",[r._v("常用过滤器")]),r._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[r._v("        WebAsyncManagerIntegrationFilter \n        SecurityContextPersistenceFilter \n        HeaderWriterFilter \n        CorsFilter \n        LogoutFilter\n        RequestCacheAwareFilter\n        SecurityContextHolderAwareRequestFilter\n        AnonymousAuthenticationFilter\n        SessionManagementFilter\n        ExceptionTranslationFilter\n        FilterSecurityInterceptor\n        UsernamePasswordAuthenticationFilter\n        BasicAuthenticationFilter\n")])]),r._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[r._v("1")]),e("br"),e("span",{staticClass:"line-number"},[r._v("2")]),e("br"),e("span",{staticClass:"line-number"},[r._v("3")]),e("br"),e("span",{staticClass:"line-number"},[r._v("4")]),e("br"),e("span",{staticClass:"line-number"},[r._v("5")]),e("br"),e("span",{staticClass:"line-number"},[r._v("6")]),e("br"),e("span",{staticClass:"line-number"},[r._v("7")]),e("br"),e("span",{staticClass:"line-number"},[r._v("8")]),e("br"),e("span",{staticClass:"line-number"},[r._v("9")]),e("br"),e("span",{staticClass:"line-number"},[r._v("10")]),e("br"),e("span",{staticClass:"line-number"},[r._v("11")]),e("br"),e("span",{staticClass:"line-number"},[r._v("12")]),e("br"),e("span",{staticClass:"line-number"},[r._v("13")]),e("br")])]),e("h1",{attrs:{id:"三、spring-security-源码分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、spring-security-源码分析"}},[r._v("#")]),r._v(" 三、Spring Security 源码分析")]),r._v(" "),e("h2",{attrs:{id:"_1-配置类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置类"}},[r._v("#")]),r._v(" 1.配置类")]),r._v(" "),e("p",[r._v("在"),e("code",[r._v("spring-boot-autoconfigure")]),r._v("工程下 "),e("code",[r._v("META-INF/spring.factories")]),r._v(" 文件中可以找到Spring Security的配置类：")]),r._v(" "),e("div",{staticClass:"language-properties line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[r._v("org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,\\\norg.springframework.boot.autoconfigure.security.servlet.SecurityRequestMatcherProviderAutoConfiguration,\\\norg.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration,\\\norg.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration,\\\norg.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration,\\\norg.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration,\\\norg.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration,\\\norg.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration,\\\norg.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration,\\\norg.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration,\\\n")])]),r._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[r._v("1")]),e("br"),e("span",{staticClass:"line-number"},[r._v("2")]),e("br"),e("span",{staticClass:"line-number"},[r._v("3")]),e("br"),e("span",{staticClass:"line-number"},[r._v("4")]),e("br"),e("span",{staticClass:"line-number"},[r._v("5")]),e("br"),e("span",{staticClass:"line-number"},[r._v("6")]),e("br"),e("span",{staticClass:"line-number"},[r._v("7")]),e("br"),e("span",{staticClass:"line-number"},[r._v("8")]),e("br"),e("span",{staticClass:"line-number"},[r._v("9")]),e("br"),e("span",{staticClass:"line-number"},[r._v("10")]),e("br")])]),e("p",[r._v("暂时不考虑reactive及oauth2，只考虑servlet，这涉及到如下配置类：")]),r._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[r._v("SecurityAutoConfiguration")]),r._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[r._v("SecurityRequestMatcherProviderAutoConfiguration")]),r._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[r._v("UserDetailsServiceAutoConfiguration")]),r._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[r._v("SecurityFilterAutoConfiguration")]),r._v("\n")])]),r._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[r._v("1")]),e("br"),e("span",{staticClass:"line-number"},[r._v("2")]),e("br"),e("span",{staticClass:"line-number"},[r._v("3")]),e("br"),e("span",{staticClass:"line-number"},[r._v("4")]),e("br")])]),e("h1",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[r._v("#")]),r._v(" 参考资料")]),r._v(" "),e("ol",[e("li",[r._v("《深入浅出 SpringBoot 2.x》")]),r._v(" "),e("li",[e("a",{attrs:{href:"https://blog.csdn.net/liushangzaibeijing/article/details/81220610",target:"_blank",rel:"noopener noreferrer"}},[r._v("springSecurity安全框架的学习和原理解读"),e("OutboundLink")],1)]),r._v(" "),e("li",[e("a",{attrs:{href:"https://www.jianshu.com/p/ac42f38baf6e",target:"_blank",rel:"noopener noreferrer"}},[r._v("Spring Security 详解"),e("OutboundLink")],1)]),r._v(" "),e("li",[e("a",{attrs:{href:"https://www.cnblogs.com/fp2952/p/8933107.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("spring-security权限控制详解"),e("OutboundLink")],1)])]),r._v(" "),e("p",[r._v("SpringSecurity 认证流程：")]),r._v(" "),e("blockquote",[e("ul",[e("li",[e("a",{attrs:{href:"https://www.cnblogs.com/niceyoo/p/10969588.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("Spring Security 认证执行流程"),e("OutboundLink")],1)]),r._v(" "),e("li",[e("a",{attrs:{href:"https://blog.csdn.net/u011467458/article/details/90718849",target:"_blank",rel:"noopener noreferrer"}},[r._v("Spring Security验证流程剖析及自定义验证方法"),e("OutboundLink")],1)]),r._v(" "),e("li",[e("a",{attrs:{href:"https://blog.csdn.net/qq_34886599/article/details/80370714",target:"_blank",rel:"noopener noreferrer"}},[r._v("SpringSecurity登录验证流程"),e("OutboundLink")],1)]),r._v(" "),e("li",[e("a",{attrs:{href:"https://www.cnblogs.com/jpfss/p/11022457.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("SpringSecurity认证流程详解"),e("OutboundLink")],1)])])])])}),[],!1,null,null,null);t.default=s.exports}}]);