(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{1135:function(a,t,s){"use strict";s.r(t);var n=s(4),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#一、简介"}},[a._v("一、简介")])]),n("li",[n("a",{attrs:{href:"#二、安装-maven"}},[a._v("二、安装 Maven")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-windows-下安装-maven"}},[a._v("1.Windows 下安装 Maven")])]),n("li",[n("a",{attrs:{href:"#_2-linux-下安装-maven"}},[a._v("2.Linux 下安装 Maven")])])])]),n("li",[n("a",{attrs:{href:"#三、基础知识"}},[a._v("三、基础知识")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-安装目录分析"}},[a._v("1.安装目录分析")])]),n("li",[n("a",{attrs:{href:"#_2-设置-http-代理"}},[a._v("2.设置 HTTP 代理")])])])]),n("li",[n("a",{attrs:{href:"#四、最佳实践"}},[a._v("四、最佳实践")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-设置-maven-opts-环境变量"}},[a._v("1.设置 MAVEN_OPTS 环境变量")])]),n("li",[n("a",{attrs:{href:"#_2-配置用户范围-settings-xml"}},[a._v("2.配置用户范围 settings.xml")])]),n("li",[n("a",{attrs:{href:"#_3-不要使用-ide-内嵌的-maven"}},[a._v("3.不要使用 IDE 内嵌的 Maven")])])])])])]),n("p"),a._v(" "),n("h2",{attrs:{id:"一、简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、简介"}},[a._v("#")]),a._v(" 一、简介")]),a._v(" "),n("p",[a._v("Maven 主要服务于基于 Java 平台的"),n("strong",[a._v("项目构建")]),a._v("、"),n("strong",[a._v("依赖管理")]),a._v("和"),n("strong",[a._v("项目信息管理")])]),a._v(" "),n("ul",[n("li",[a._v("何为构建")])]),a._v(" "),n("blockquote",[n("p",[a._v("除了编写源代码，我们每天有相当一部分时间花在了"),n("strong",[a._v("编译、运行单元测试、生成文档、打包和部署")]),a._v("等烦琐且不起眼的工作上，这就是"),n("strong",[a._v("构建")]),a._v("。")])]),a._v(" "),n("h2",{attrs:{id:"二、安装-maven"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、安装-maven"}},[a._v("#")]),a._v(" 二、安装 Maven")]),a._v(" "),n("h3",{attrs:{id:"_1-windows-下安装-maven"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-windows-下安装-maven"}},[a._v("#")]),a._v(" 1.Windows 下安装 Maven")]),a._v(" "),n("h4",{attrs:{id:"_1-1-检查-jdk-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-检查-jdk-安装"}},[a._v("#")]),a._v(" 1.1 检查 JDK 安装")]),a._v(" "),n("p",[a._v("执行如下命令，检查 JDK 的安装情况")]),a._v(" "),n("blockquote",[n("p",[a._v("echo %JAVA_HOME%")]),a._v(" "),n("p",[a._v("java -version")])]),a._v(" "),n("h4",{attrs:{id:"_1-2-maven-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-maven-安装"}},[a._v("#")]),a._v(" 1.2 maven 安装")]),a._v(" "),n("p",[a._v("（1）去官网下载 maven，解压，")]),a._v(" "),n("p",[a._v("（2）然后设置环境变量（建议设置用户环境变量）")]),a._v(" "),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("M2_HOME")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("C:\\dev-env\\Maven\\apache-maven-3.5.4")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("PATH")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("%M2_HOME%\\bin")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("p",[a._v("（3）验证")]),a._v(" "),n("blockquote",[n("p",[a._v("echo %M2_HOME%")]),a._v(" "),n("p",[a._v("mvn -v")])]),a._v(" "),n("h3",{attrs:{id:"_2-linux-下安装-maven"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-linux-下安装-maven"}},[a._v("#")]),a._v(" 2.Linux 下安装 Maven")]),a._v(" "),n("h4",{attrs:{id:"_2-1-下载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-下载"}},[a._v("#")]),a._v(" 2.1 下载")]),a._v(" "),n("p",[a._v("前往"),n("a",{attrs:{href:"http://maven.apache.org/download.cgi",target:"_blank",rel:"noopener noreferrer"}},[a._v("官网"),n("OutboundLink")],1),a._v("下载"),n("code",[a._v(".tar.gz")]),a._v("格式的压缩包")]),a._v(" "),n("h4",{attrs:{id:"_2-2-解压"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-解压"}},[a._v("#")]),a._v(" 2.2 解压")]),a._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 创建安装目录")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" /usr/local/maven/\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 解压至安装目录")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zxvf apache-maven-3.6.2-bin.tar.gz -C /usr/local/maven/\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("h4",{attrs:{id:"_2-3-设置环境变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-设置环境变量"}},[a._v("#")]),a._v(" 2.3 设置环境变量")]),a._v(" "),n("p",[a._v("编辑文件"),n("code",[a._v("/etc/profile")])]),a._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/profile\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("p",[a._v("添加文件末尾追加 JDK 环境变量")]),a._v(" "),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("export")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("MAVEN_HOME=/usr/local/maven/apache-maven-3.6.2")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("export")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("PATH=$MAVEN_HOME/bin:$PATH")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("p",[a._v("使环境变量生效")]),a._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /etc/profile\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("h2",{attrs:{id:"三、基础知识"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、基础知识"}},[a._v("#")]),a._v(" 三、基础知识")]),a._v(" "),n("h3",{attrs:{id:"_1-安装目录分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装目录分析"}},[a._v("#")]),a._v(" 1.安装目录分析")]),a._v(" "),n("p",[n("img",{attrs:{src:s(540),alt:"1546057770831"}})]),a._v(" "),n("table",[n("thead",[n("tr",[n("th",[a._v("目录")]),a._v(" "),n("th",[a._v("分析")])])]),a._v(" "),n("tbody",[n("tr",[n("td",[a._v("bin")]),a._v(" "),n("td",[a._v("（1）该目录包含了 mvn 运行的脚本，（2）这些脚本用来配置 Java 命令，准备好 classpath 和相关的 Java 系统属性，然后执行 Java 命令。")])]),a._v(" "),n("tr",[n("td",[a._v("boot")]),a._v(" "),n("td",[a._v("包含一个类加载器框架："),n("code",[a._v("plexus-classworlds-2.5.2.jar")])])]),a._v(" "),n("tr",[n("td",[a._v("conf")]),a._v(" "),n("td",[a._v("（1）包含一个全局配置文件 "),n("code",[a._v("settings.xml")]),a._v(" ，（2）一般情况下，推荐将该文件复制到 "),n("code",[a._v("~/.m2/")]),a._v(" 目录下，然后修改该文件，在用户范围定制 Maven 的行为。")])]),a._v(" "),n("tr",[n("td",[a._v("lib")]),a._v(" "),n("td",[a._v("包含所有 maven 运行时需要的 Java 类库")])])])]),a._v(" "),n("h3",{attrs:{id:"_2-设置-http-代理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-设置-http-代理"}},[a._v("#")]),a._v(" 2.设置 HTTP 代理")]),a._v(" "),n("p",[a._v("若想使 Maven 通过代理服务器来下载 jar 包，则需要为 Maven 配置 HTTP 代理")]),a._v(" "),n("h4",{attrs:{id:"_2-1-确认代理服务器畅通"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-确认代理服务器畅通"}},[a._v("#")]),a._v(" 2.1 确认代理服务器畅通")]),a._v(" "),n("blockquote",[n("p",[a._v("telnet ip 端口")])]),a._v(" "),n("p",[a._v("如果 telnet 连接正确，则输入 ctrl+］，然后 q，回车，退出即可。")]),a._v(" "),n("h4",{attrs:{id:"_2-2-修改用户配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-修改用户配置"}},[a._v("#")]),a._v(" 2.2 修改用户配置")]),a._v(" "),n("p",[a._v("检查完毕之后，编辑 "),n("code",[a._v("~/.m2/settings.xml")]),a._v(" 文件（如果没有该文件，则复制 "),n("code",[a._v("＄M2_HOME/conf/settings.xml")]),a._v(" ）。")]),a._v(" "),n("p",[a._v("添加代理配置如下：")]),a._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("settings")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n...\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("proxies")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("proxy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("my-proxy"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("active")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("true"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("active")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("protocol")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("http"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("protocol")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("host")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("192.168.12.107"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("host")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("3128"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--\n      <username>proxyuser</username>\n      <password>proxypass</password>\n      <nonProxyHosts>local.net|some.host.com</nonProxyHosts>\n      --\x3e")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("proxy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("proxies")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n...\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("settings")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br")])]),n("blockquote",[n("ul",[n("li",[n("p",[a._v("当代理服务需要认证时，就需要配置 username 和 password。")])]),a._v(" "),n("li",[n("p",[a._v("nonProxyHost 元素用来指定哪些主机名不需要代理，可以使用“|”符号来分隔多个主机名。且可使用通配符 *")])])])]),a._v(" "),n("h2",{attrs:{id:"四、最佳实践"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四、最佳实践"}},[a._v("#")]),a._v(" 四、最佳实践")]),a._v(" "),n("h3",{attrs:{id:"_1-设置-maven-opts-环境变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-设置-maven-opts-环境变量"}},[a._v("#")]),a._v(" 1.设置 MAVEN_OPTS 环境变量")]),a._v(" "),n("p",[a._v("运行 mvn 命令实际上是执行了 Java 命令，通过 MAVEN_OPTS 可设置 jvm 参数。")]),a._v(" "),n("blockquote",[n("p",[a._v("通常需要设置 MAVEN_OPTS 的值为-Xms128m-Xmx512m，")]),a._v(" "),n("p",[a._v("因为 Java 默认的最大可用内存往往不能够满足 Maven 运行的需要，比如在项目较大时，使用 Maven 生成项目站点需要占用大量的内存，如果没有该配置，则很容易得到 java.lang.OutOfMemeoryError。因此，一开始就配置该变量是推荐的做法。")])]),a._v(" "),n("h3",{attrs:{id:"_2-配置用户范围-settings-xml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置用户范围-settings-xml"}},[a._v("#")]),a._v(" 2.配置用户范围 settings.xml")]),a._v(" "),n("table",[n("thead",[n("tr",[n("th",[a._v("配置文件")]),a._v(" "),n("th",[a._v("适用范围")]),a._v(" "),n("th",[a._v("描述")])])]),a._v(" "),n("tbody",[n("tr",[n("td",[n("code",[a._v("＄M2_HOME/conf/settings.xml")])]),a._v(" "),n("td",[a._v("全局范围")]),a._v(" "),n("td",[a._v("整台机器上的所有用户都会直接受到该配置的影响")])]),a._v(" "),n("tr",[n("td",[n("code",[a._v("~/.m2/settings.xml")])]),a._v(" "),n("td",[a._v("用户范围")]),a._v(" "),n("td",[a._v("只有当前用户才会受到该配置的影响")])])])]),a._v(" "),n("p",[a._v("推荐使用用户范围的 settings.xml，主要是：")]),a._v(" "),n("blockquote",[n("ul",[n("li",[a._v("避免无意识地影响到系统中的其他用户")]),a._v(" "),n("li",[a._v("方便 Maven 版本升级")])])]),a._v(" "),n("h3",{attrs:{id:"_3-不要使用-ide-内嵌的-maven"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-不要使用-ide-内嵌的-maven"}},[a._v("#")]),a._v(" 3.不要使用 IDE 内嵌的 Maven")]),a._v(" "),n("p",[a._v("原因：")]),a._v(" "),n("blockquote",[n("ul",[n("li",[a._v("版本新，可能不稳定")]),a._v(" "),n("li",[a._v("与命令行的 maven 不一致")])])]),a._v(" "),n("p",[a._v("因此，应该在 IDE 中配置 Maven 插件时使用与命令行一致的 Maven。")])])}),[],!1,null,null,null);t.default=e.exports},540:function(a,t,s){a.exports=s.p+"assets/img/1546057770831.a3850e5a.png"}}]);