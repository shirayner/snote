(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1356:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("[TOC]")]),s._v(" "),n("h1",{attrs:{id:"前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("在微服务架构中，业务都会被拆分成一个独立的服务，服务之间的通讯是基于http restful的")])]),s._v(" "),n("li",[n("p",[s._v("Ribbon可以很好地控制HTTP和TCP客户端的行为")])]),s._v(" "),n("li",[n("p",[s._v("Spring Cloud有两种调用方式，一种是 Ribbon + RestTemplate，另一种是Feign（集成Ribbon+Hystrix），本章主要讲解Ribbon")])])]),s._v(" "),n("h1",{attrs:{id:"ribbon-简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ribbon-简介"}},[s._v("#")]),s._v(" Ribbon 简介")]),s._v(" "),n("p",[s._v("Ribbon 是一个客户端负载均衡器，它可以很好地控制HTTP和TCP客户端的行为，它具有如下功能：")]),s._v(" "),n("blockquote",[n("ul",[n("li",[s._v("丰富的负载均衡策略")]),s._v(" "),n("li",[s._v("重试机制")]),s._v(" "),n("li",[s._v("支持多协议的异步和响应式模型")]),s._v(" "),n("li",[s._v("容错")]),s._v(" "),n("li",[s._v("缓存和批处理功能")])])]),s._v(" "),n("p",[s._v("关于服务端负载均衡与客户端负载均衡：")]),s._v(" "),n("blockquote",[n("ul",[n("li",[n("p",[s._v("负载均衡（LB，Load balancing）：即利用特定方式将流量分摊到多个操作单元上的一种手段，它对系统吞吐量和系统处理能力有着质的提升")])]),s._v(" "),n("li",[n("p",[s._v("对负载均衡的分类有：")]),s._v(" "),n("ul",[n("li",[s._v("从软硬件上分：\n"),n("ul",[n("li",[n("strong",[s._v("硬负载")]),s._v("：采用硬件设备（硬件负载均衡器）来提供负载均衡，代表有 F5负载均衡")]),s._v(" "),n("li",[n("strong",[s._v("软负载")]),s._v("：通过在服务器上安装的特定的负载均衡软件或是自带负载均衡模块完成对请求的分配派发，代表有Nginx负载均衡")])])]),s._v(" "),n("li",[s._v("从服务端和客户端上分\n"),n("ul",[n("li",[n("strong",[s._v("服务端负载均衡")]),s._v("：也叫集中式负载均衡，特指位于因特网和服务提供者之间，并负责把网络请求转发到各个提供者单位，这是Nginx 和 F5 就可以划为一类了")]),s._v(" "),n("li",[n("strong",[s._v("客户端负载均衡")]),s._v("：也叫进程内负载均衡，特指从一个实例库选取一个实例进行流量导入，在微服务的范畴内，实例库一般存储在 Eureka 、Consul、Zookeeper、etcd这样的注册中心，而此时的负载均衡器类似Ribbon的IPC(Inter-Process Communication，进程间通信)组件。服务提供方启动时，会将服务地址注册到服务注册中心，并通过心跳来维护，当服务消费者需要访问某个服务时，通过内置的LB组件定期向服务注册中心获取服务注册表，并以某种负载均衡策略选定一个目标服务地址，并发起请求。")])])])])]),s._v(" "),n("li",[n("p",[s._v("常见的负载均衡算法，请参见："),n("a",{attrs:{href:"https://www.cnblogs.com/xrq730/p/5154340.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("五月的仓颉__几种简单的负载均衡算法及其Java代码实现"),n("OutboundLink")],1),s._v("：")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("轮询（Round Robin）")]),s._v(": 将请求按照顺序轮流的分配到服务器上，如 123，123，123")]),s._v(" "),n("li",[n("strong",[s._v("随机（Random）")]),s._v("： 通过系统随机函数，根据后端服务器列表的大小值来随机选择其中一台进行访问")]),s._v(" "),n("li",[n("strong",[s._v("源地址哈希（Hash）")]),s._v("：源地址哈希的思想是获取客户端访问的IP地址值，通过哈希函数计算得到一个数值，用该数值对服务器列表的大小进行取模运算，得到的结果便是要访问的服务器的序号。")]),s._v(" "),n("li",[n("strong",[s._v("加权轮询（Weight Round Robin）")]),s._v(": 不同的服务器可能机器配置和当前系统的负载并不相同，因此它们的抗压能力也不尽相同，给配置高、负载低的机器配置更高的权重，让其处理更多的请求，而低配置、高负载的机器，则给其分配较低的权重，降低其系统负载")]),s._v(" "),n("li",[n("strong",[s._v("加权随机（Weight Random）")]),s._v(": 与加权轮询法类似，加权随机法也是根据后端服务器不同的配置和负载情况来配置不同的权重。不同的是，它是按照权重来随机选择服务器的，而不是顺序。")]),s._v(" "),n("li",[n("strong",[s._v("最小连接数（Least Connections）")]),s._v(":")])])])])]),s._v(" "),n("h1",{attrs:{id:"一、创建服务消费者"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、创建服务消费者"}},[s._v("#")]),s._v(" 一、创建服务消费者")]),s._v(" "),n("h2",{attrs:{id:"_1-创建子模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建子模块"}},[s._v("#")]),s._v(" 1.创建子模块")]),s._v(" "),n("p",[s._v("这里我们创建一个子模块，创建步骤同 "),n("RouterLink",{attrs:{to:"/cs/backend/spring/spring-cloud/01_spring-cloud/SpringCloud_01_Discovery_01_Eureka入门示例.html"}},[s._v("SpringCloud_01_Discovery_01_Eureka入门示例")])],1),s._v(" "),n("p",[s._v("子模块信息如下：")]),s._v(" "),n("div",{staticClass:"language-groovy line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[s._v("group "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'com.ray.study'")]),s._v("\nartifact "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-02-consumer-ribbon'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"_2-引入依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-引入依赖"}},[s._v("#")]),s._v(" 2.引入依赖")]),s._v(" "),n("h3",{attrs:{id:"_2-1-继承父工程依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-继承父工程依赖"}},[s._v("#")]),s._v(" 2.1 继承父工程依赖")]),s._v(" "),n("p",[s._v("在父工程"),n("code",[s._v("spring-cloud-seeds")]),s._v(" 的 "),n("code",[s._v("settings.gradle")]),s._v("加入子工程")]),s._v(" "),n("div",{staticClass:"language-groovy line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[s._v("rootProject"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-seeds'")]),s._v("\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-01-discovery-01-eureka-server'")]),s._v("\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-01-discovery-01-eureka-client'")]),s._v("\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-01-discovery-02-consul-client'")]),s._v("\ninclude "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'spring-cloud-02-consumer-ribbon'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("这样，子工程"),n("code",[s._v("spring-cloud-02-consumer-ribbon")]),s._v("就会自动继承父工程中"),n("code",[s._v("subprojects")]),s._v(" 函数里声明的项目信息")]),s._v(" "),n("h3",{attrs:{id:"_2-2-引入-consumer-ribbon-依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-引入-consumer-ribbon-依赖"}},[s._v("#")]),s._v(" 2.2 引入 consumer-ribbon 依赖")]),s._v(" "),n("p",[s._v("将子模块"),n("code",[s._v("spring-cloud-02-consumer-ribbon")]),s._v(" 的"),n("code",[s._v("build.gradle")]),s._v("修改为如下内容：")]),s._v(" "),n("div",{staticClass:"language-groovy line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-groovy"}},[n("code",[s._v("dependencies "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    implementation "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.springframework.boot:spring-boot-starter-web'")]),s._v("\n    testImplementation "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.springframework.boot:spring-boot-starter-test'")]),s._v("\n    compileOnly "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.projectlombok:lombok'")]),s._v("\n    annotationProcessor "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.projectlombok:lombok'")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// eureka client")]),s._v("\n    implementation "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.springframework.cloud:spring-cloud-starter-netflix-eureka-client'")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ribbon")]),s._v("\n    implementation "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'org.springframework.cloud:spring-cloud-starter-netflix-ribbon'")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("这里我们创建的服务消费者，也是一个 eureka client，同时集成了ribbon 来进行负载均衡")]),s._v(" "),n("h2",{attrs:{id:"_3-修改配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改配置"}},[s._v("#")]),s._v(" 3. 修改配置")]),s._v(" "),n("h3",{attrs:{id:"_3-1-修改application-yml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-修改application-yml"}},[s._v("#")]),s._v(" 3.1 修改"),n("code",[s._v("application.yml")])]),s._v(" "),n("p",[s._v("主要配置 eureka client")]),s._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" consumer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("ribbon   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定服务名")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("instance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("prefer-ip-address")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("registerWithEureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#服务注册开关")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("fetchRegistry")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#服务发现开关")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("serviceUrl")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Eureka客户端与Eureka服务端进行交互的地址，多个中间用逗号分隔")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("defaultZone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("8761/eureka/    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定 Eureka Server 地址")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h3",{attrs:{id:"_3-2-启用服务发现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-启用服务发现"}},[s._v("#")]),s._v(" 3.2 启用服务发现")]),s._v(" "),n("p",[s._v("在启动类上添加"),n("code",[s._v("@EnableDiscoveryClient")]),s._v("注解即可启用服务发现")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ray"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("study"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springcloud02consumerribbon")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("boot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("boot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("autoconfigure"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBootApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("discovery"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnableDiscoveryClient")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EnableDiscoveryClient")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@SpringBootApplication")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringCloud02ConsumerRibbonApplication")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringCloud02ConsumerRibbonApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h3",{attrs:{id:"_3-3-配置ribbon"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-配置ribbon"}},[s._v("#")]),s._v(" 3.3 配置ribbon")]),s._v(" "),n("p",[s._v("配置 ribbon 进行负载均衡控制，同时也可设置自己需要的负载均衡算法")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ray"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("study"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springcloud02consumerribbon"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loadbalancer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoadBalanced")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Bean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * description\n *\n * @author shira 2019/05/22 16:39\n */")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Configuration")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RibbonConfig")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n\t *  通过添加 @LoadBalanced 注解 声明该 restTemplate 用于负载均衡\n\t * @return\n\t */")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Bean")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@LoadBalanced")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("restTemplate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n\t * 设置Ribbon采取的负载均衡算法\n\t * @return\n\t */")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//\t@Bean")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//\tpublic IRule ribbonRule(){")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//\t\t// 随机算法")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//\t\treturn new RandomRule();")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//\t}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("h2",{attrs:{id:"_4-业务实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-业务实现"}},[s._v("#")]),s._v(" 4.业务实现")]),s._v(" "),n("p",[s._v("这里我们写一个简单的controller，来调用前面创建的  eureka-client 服务")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ray"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("study"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springcloud02consumerribbon"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("controller")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("lombok"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("extern"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slf4j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Slf4j")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("beans"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("factory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Autowired")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bind"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GetMapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bind"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestController")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * description\n *\n * @author shira 2019/05/22 17:01\n */")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RestController")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Slf4j")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HelloRibbonController")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),s._v(" restTemplate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@GetMapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/hello"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHello")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" result "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" restTemplate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getForObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://eureka-client/hello"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\tlog"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br")])]),n("h1",{attrs:{id:"二、负载均衡测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、负载均衡测试"}},[s._v("#")]),s._v(" 二、负载均衡测试")]),s._v(" "),n("p",[s._v("下面，我们将使用  "),n("RouterLink",{attrs:{to:"/cs/backend/spring/spring-cloud/01_spring-cloud/SpringCloud_01_Discovery_01_Eureka入门示例.html"}},[s._v("SpringCloud_01_Discovery_01_Eureka入门示例.md")]),s._v("  这一节中创建的 Eureka 注册中心和Eureka Client 服务提供者来进行演示")],1),s._v(" "),n("h2",{attrs:{id:"_1-启动服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-启动服务"}},[s._v("#")]),s._v(" 1.启动服务")]),s._v(" "),n("p",[s._v("我们进行下服务的启动配置（主要是指定各服务启动的端口）：")]),s._v(" "),n("p",[s._v("（1）注册中心 EurekaServer-8761")]),s._v(" "),n("p",[n("img",{attrs:{src:a(874),alt:"1558520594730"}})]),s._v(" "),n("p",[s._v("（2）服务提供者 EurekaClient")]),s._v(" "),n("p",[s._v("这里我们启动三个  EurekaClient，对应的端口分别为：8762、8763、8764")]),s._v(" "),n("p",[n("img",{attrs:{src:a(875),alt:"1558520704231"}})]),s._v(" "),n("p",[s._v("（4）服务消费者 ConsumerRibbon")]),s._v(" "),n("p",[n("img",{attrs:{src:a(876),alt:"1558520771656"}})]),s._v(" "),n("p",[s._v("配置完成后，依次启动服务注册中心、服务提供者、服务消费者，启动成功后，访问 Eureka 可视化界面：")]),s._v(" "),n("blockquote",[n("p",[s._v("http://localhost:8761/")])]),s._v(" "),n("p",[s._v("会发现 eureka-client 有三个副本，下面消费者将使用Ribbon去轮询这三个服务提供者")]),s._v(" "),n("p",[n("img",{attrs:{src:a(877),alt:"1558520947264"}})]),s._v(" "),n("h2",{attrs:{id:"_2-负载均衡测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-负载均衡测试"}},[s._v("#")]),s._v(" 2.负载均衡测试")]),s._v(" "),n("p",[s._v("访问如下地址， consumer-ribbon 将请求 eureka-client 的  sayHello，给用户返回下图的一段话")]),s._v(" "),n("blockquote",[n("p",[s._v("http://localhost:9000/hello")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(878),alt:"1558521341908"}})]),s._v(" "),n("p",[s._v("多次请求，会发现  eureka-client  服务被轮询了")]),s._v(" "),n("p",[n("img",{attrs:{src:a(879),alt:"1558521415165"}})]),s._v(" "),n("h1",{attrs:{id:"参考资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),n("h2",{attrs:{id:"_1-ribbon"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-ribbon"}},[s._v("#")]),s._v(" 1.Ribbon")]),s._v(" "),n("ol",[n("li",[n("a",{attrs:{href:"https://blog.battcn.com/2017/07/26/springcloud/dalston/spring-cloud-ribbon/",target:"_blank",rel:"noopener noreferrer"}},[s._v("一起来学SpringCloud之-服务消费者（Ribbon）"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.phpsong.com/3713.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("SpringCloud Ribbon+RestTemplate 服务负载均衡调用"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://item.jd.com/12447280.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("《重新定义Spring Cloud实战》"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"_2-负载均衡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-负载均衡"}},[s._v("#")]),s._v(" 2.负载均衡")]),s._v(" "),n("ol",[n("li",[n("a",{attrs:{href:"https://www.cnblogs.com/mindwind/p/5339657.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("瞬息之间__LB 负载均衡的层次结构"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.jianshu.com/p/1e56ace862e7",target:"_blank",rel:"noopener noreferrer"}},[s._v("常见的负载均衡算法"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.cnblogs.com/xrq730/p/5154340.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("几种简单的负载均衡算法及其Java代码实现"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports},874:function(s,t,a){s.exports=a.p+"assets/img/1558520594730.89bc5172.png"},875:function(s,t,a){s.exports=a.p+"assets/img/1558520704231.9d396eea.png"},876:function(s,t,a){s.exports=a.p+"assets/img/1558520771656.08e25b84.png"},877:function(s,t,a){s.exports=a.p+"assets/img/1558520947264.4176c309.png"},878:function(s,t){s.exports="data:image/png;base64,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"},879:function(s,t,a){s.exports=a.p+"assets/img/1558521415165.ac9880e2.png"}}]);